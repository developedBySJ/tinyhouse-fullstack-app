{"version":3,"sources":["lib/graphQl/mutations/LogIn/index.ts","lib/graphQl/mutations/LogOut/index.ts","lib/graphQl/mutations/ConnectStripe/index.ts","lib/graphQl/mutations/DisconnectStripe/index.ts","lib/graphQl/mutations/CreateBooking/index.ts","lib/graphQl/queries/AuthUrl/index.ts","lib/graphQl/queries/User/index.ts","lib/graphQl/queries/Listing/index.ts","lib/graphQl/queries/Listings/index.ts","lib/graphQl/globaltypes.ts","lib/components/ErrorBanner/index.tsx","lib/components/PageSkeleton/index.tsx","lib/utils/index.tsx","section/AppHeader/components/MenuItems/index.tsx","section/AppHeader/index.tsx","section/AppHeader/assets/tinyhouse-logo.png","section/AppHeaderSkeleton/index.tsx","section/AppHeaderSkeleton/assets/tinyhouse-logo.png","section/Home/assets/toronto.jpg","section/Home/assets/dubai.jpg","section/Home/assets/los-angeles.jpg","section/Home/assets/london.jpg","section/Home/components/HomeHero/index.tsx","lib/components/ListingCard/index.tsx","section/Home/components/HomeListings/index.tsx","section/Home/components/HomeListingsSkeleton/index.tsx","section/Home/assets/listing-loading-card-cover.jpg","section/Home/assets/cancun.jpg","section/Home/assets/map-background.jpg","section/Home/assets/san-fransisco.jpg","section/Home/index.tsx","lib/graphQl/mutations/HostListing/index.ts","section/Host/index.tsx","section/Listings/Components/ListingFilters/index.tsx","section/Listings/Components/ListingPagination/index.tsx","section/Listings/Components/ListingSkeleton/index.tsx","section/Listings/Components/assets/listing-loading-card-cover.jpg","section/Listings/index.tsx","section/Listing/components/ListingDetails/index.tsx","section/Listing/components/ListingBookings/index.tsx","section/Listing/components/ListingCreateBooking/index.tsx","section/Listing/components/ListingCreateBookingModal/index.tsx","section/Listing/index.tsx","section/NotFound/index.tsx","section/User/components/UserProfile/index.tsx","section/User/components/UserBookings/index.tsx","section/User/components/UserListings/index.tsx","section/User/index.tsx","section/Stripe/index.tsx","section/Login/index.tsx","section/Login/assets/google_logo.jpg","index.tsx","lib/graphQl/mutations/index.ts","lib/graphQl/queries/index.ts"],"names":["LOG_IN","gql","LOG_OUT","CONNECT_STRIPE","DISCONNECT_STRIPE","CREATE_BOOKING","AUTH_URL","USER","LISTING","LISTINGS","ListingFilter","ListingType","ErrorBanner","message","description","banner","closable","type","className","PageSkeleton","SkeletonParagraph","active","paragraph","PRIMARY_COLOR","formatPrice","price","round","formatedPrice","Math","displaySuccessNotification","notification","success","placement","style","marginTop","displayErrorMessage","error","Item","Menu","SubMenu","MenuItems","viewer","setViewer","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","onError","err","console","log","subMenuLogin","id","avatar","title","src","to","onClick","mode","selectable","Header","Layout","Search","Input","AppHeader","useState","search","setSearch","history","useHistory","location","useLocation","useEffect","pathname","pathnameSubStrings","split","includes","length","alt","placeholder","enterButton","value","onChange","evt","target","onSearch","trimmedValue","trim","push","AppHeaderSkeleton","Title","Typography","HomeHero","size","gutter","xs","md","cover","torontoImage","dubaiImage","losAngelesImage","londonImage","Text","ListingCard","listing","image","address","numOfGuests","hoverable","backgroundImage","overflow","level","strong","ellipsis","UserOutlined","marginRight","color","HomeListings","listings","grid","sm","lg","xl","xxl","dataSource","renderItem","HomeListingsSkeleton","rows","minWidth","loading","Home","props","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","mapBackground","val","trimmedVal","result","sanFransiscoImage","cancunImage","HOST_LISTING","Form","Host","hostListing","React","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","hasWallet","layout","onFinish","values","fullAddress","city","state","zipcode","input","onFinishFailed","errorInfo","onSubmitCapture","e","preventDefault","label","name","rules","required","Group","Button","APARTMENT","BankOutlined","HOUSE","HomeOutlined","min","extra","maxLength","TextArea","listType","showUploadList","beforeUpload","beforeImageUpload","info","file","status","originFileObj","getBase64Value","action","LoadingOutlined","PlusOutlined","htmlType","fileIsValidImage","fileIsValidSize","img","callback","reader","FileReader","readAsDataURL","onload","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","total","setPage","current","defaultPageSize","hideOnSinglePage","showLessItems","ListingsSkeleton","Listings","locationRef","useRef","match","params","skip","listingsRegion","region","listingSectionElement","offsetTop","mark","listingsRegionElement","Paragraph","ListingDetails","host","EnvironmentOutlined","expandable","ListingBookings","listingBookings","bookingsPage","setBookingsPage","listingBookingsList","undefined","locale","emptyText","pagination","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","ListingCreateBooking","bookingsIndex","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","dateIsBeforeEndOfDay","isBefore","moment","endOf","dateIsMoreThanThreeMonthsAhead","isAfter","add","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","format","showToday","disabled","dateValue","onOpenChange","renderExtraFooter","selectedCheckOutDate","dateCursor","verifyAndSetCheckOutDate","dateRender","isSame","CheckOutForm","onSuccess","stripe","useStripe","elements","useElements","handleSubmit","event","a","cardElement","getElement","CardElement","createToken","token","onSubmit","options","hidePostalCode","ListingCreateBookingModal","modalVisible","clearBookingData","handleListingRefetch","createBooking","daysBooked","diff","listingPrice","visible","centered","footer","onCancel","KeyOutlined","source","then","Listing","bookingPage","setBookingPage","isModalVisible","setIsModalVisible","setcheckInDate","setcheckOutDate","refetch","bookings","listingBookingElement","listingCreateBookingElement","justify","NotFound","stripeUrl","process","UserProfile","disconnectStripe","handleUserRefecth","stripeErrorElement","URL","window","href","searchParams","get","AdditionDetails","user","income","rel","AdditionalInformation","isOwner","contact","UserBookings","userBookings","userBookingsList","position","userBooking","UserListings","listingsPage","setListingsPage","userListings","userListingsList","userListing","User","bookingsElement","listingsElement","UserProfileElement","Stripe","connectStripe","connectStripeRef","code","replace","Content","Login","client","useApolloClient","logIn","login","loginLoading","loginError","logInRef","handleSignInWithGoogle","query","authUrl","tip","ErrorBannerElement","role","aria-label","httpLink","HttpLink","uri","authMiddleware","ApolloLink","operation","forward","getItem","setContext","headers","ApolloClient","link","concat","cache","InMemoryCache","connectToDevTools","intialViewer","didRequest","StripePromise","loadStripe","App","setItem","logInErrorBanner","exact","path","component","render","document","querySelector"],"mappings":"ytBAEA,IAAMA,EAASC,cAAH,M,inBCAZ,IAAMC,EAAUD,cAAH,M,sSCAN,IAAME,EAAiBF,cAAH,M,sOCApB,IAAMG,EAAoBH,cAAH,M,mQCAvB,IAAMI,EAAiBJ,cAAH,M,sZCCpB,IAAMK,EAAWL,cAAH,M,qhCCDd,IAAMM,EAAON,cAAH,M,04BCAV,IAAMO,EAAUP,cAAH,M,wqBCAb,IAAMQ,EAAWR,cAAH,M,sFCOTS,EAKAC,E,qICNNC,EAAc,SAAC,GAGP,IAAD,IAFXC,eAEW,MAFD,kCAEC,MADXC,mBACW,MADG,qFACH,EACX,OACE,cAAC,IAAD,CACED,QAASA,EACTC,YAAaA,EACbC,QAAM,EACNC,UAAQ,EACRC,KAAK,QACLC,UAAU,kB,SChBVC,EAAe,WACnB,IAAMC,EACJ,cAAC,IAAD,CAAUC,QAAM,EAACC,WAAS,EAACJ,UAAU,6BAEvC,OACE,qCACGE,EACAA,EACAA,M,4CCTDG,EAAgB,UAEhBC,EAAc,SAACC,GAAyC,IAA1BC,IAAyB,yDACrDC,EAAgB,KAAOD,EAAQE,KAAKF,MAAMD,EAAQ,KAAOA,EAAQ,KACvE,OAAOE,GAGHE,EAA6B,SAAChB,EAAiBC,GACnD,OAAOgB,IAAaC,QAAQ,CAC1BlB,UACAC,cACAkB,UAAW,UACXC,MAAO,CACLC,UAAW,OAKXC,EAAsB,SAACC,GAC3B,OAAOvB,IAAQuB,MAAMA,I,0BCHfC,EAAkBC,IAAlBD,KAAME,EAAYD,IAAZC,QAEDC,EAAY,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,UAAuB,EACxCC,sBAAoBzC,UAAS,CAC5C0C,YAAa,SAACC,GACRA,GAAQA,EAAKC,SACfJ,EAAUG,EAAKC,QACfC,eAAeC,WAAW,SAC1BnB,EAA2B,qCAG/BoB,QAAS,SAACC,GACRC,QAAQC,IAAIF,GACZf,EACE,qEAXCW,EADkD,oBAqBnDO,EACJZ,EAAOa,IAAMb,EAAOc,OAClB,eAAChB,EAAD,CAASiB,MAAO,cAAC,IAAD,CAAQC,IAAKhB,EAAOc,SAApC,UACE,cAAClB,EAAD,UACE,cAAC,IAAD,CAAMqB,GAAE,gBAAWjB,EAAOa,IAA1B,sBADQ,SAMV,cAACjB,EAAD,UACE,qBAAKsB,QAdQ,WACnBb,KAaM,sBADQ,cAQZ,cAACT,EAAD,UACE,cAAC,IAAD,CAAMqB,GAAG,SAAT,SACE,cAAC,IAAD,CAAQzC,KAAK,UAAb,yBAKR,OACE,eAAC,IAAD,CAAM2C,KAAK,aAAaC,YAAY,EAAO3C,UAAU,OAArD,UACE,cAACmB,EAAD,UACE,cAAC,IAAD,CAAMqB,GAAG,QAAT,mBADQ,SAMTL,MC3DCS,EAAWC,IAAXD,OACAE,EAAWC,IAAXD,OAEKE,EAAY,SAAC,GAAkC,IAAhCzB,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,UAAuB,EAC7ByB,mBAAS,IADoB,mBAClDC,EADkD,KAC1CC,EAD0C,KAGnDC,EAAUC,cACVC,EAAWC,cAEjBC,qBAAU,WAAO,IACPC,EAAaH,EAAbG,SACFC,EAAqBD,EAASE,MAAM,KAErCF,EAASG,SAAS,aAKnBH,EAASG,SAAS,cAA8C,IAA9BF,EAAmBG,QACvDV,EAAUO,EAAmB,IAL7BP,EAAU,MAQX,CAACG,IAYJ,OACE,eAACV,EAAD,CAAQ5C,UAAU,aAAlB,UACE,sBAAKA,UAAU,kCAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,cAAC,IAAD,CAAMwC,GAAG,IAAT,SACE,qBAAKD,ICrDF,yjCDqDauB,IAAI,iBAGxB,qBAAK9D,UAAU,2BAAf,SACE,cAAC8C,EAAD,CACEiB,YAAY,yBACZC,aAAW,EACXC,MAAOf,EACPgB,SAAU,SAAAC,GAAG,OAAIhB,EAAUgB,EAAIC,OAAOH,QACtCI,SAxBO,SAACJ,GAChB,IAAMK,EAAeL,EAAMM,OAEvBD,EACFlB,EAAQoB,KAAR,oBAA0BF,IAE1BrD,EAAoB,wCAsBpB,qBAAKjB,UAAU,2BAAf,SACE,cAAC,EAAD,CAAWuB,OAAQA,EAAQC,UAAWA,UE9DtCoB,EAAWC,IAAXD,OAEK6B,EAAoB,WAC/B,OACE,cAAC,EAAD,CAAQzE,UAAU,aAAlB,SACE,qBAAKA,UAAU,kCAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKuC,ICZA,yjCDYWuB,IAAI,oB,qEEZf,MAA0B,oCCA1B,MAA0B,kCCA1B,OAA0B,wCCA1B,OAA0B,mCCSjCY,GAAUC,IAAVD,MACA5B,GAAWC,IAAXD,OAMK8B,GAAW,SAAC,GAAyB,IAAvBP,EAAsB,EAAtBA,SACzB,OACE,sBAAKrE,UAAU,YAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAOA,UAAU,mBAAjB,iDAGA,cAAC,GAAD,CACE+D,YAAY,yBACZc,KAAK,QACLb,aAAW,EACXhE,UAAU,0BACVqE,SAAUA,OAGd,eAAC,IAAD,CAAKS,OAAQ,GAAI9E,UAAU,mBAA3B,UACE,cAAC,IAAD,CAAK+E,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAMxC,GAAG,oBAAT,SACE,cAAC,IAAD,CAAMyC,MAAO,qBAAKnB,IAAI,UAAUvB,IAAK2C,IAArC,yBAKJ,cAAC,IAAD,CAAKH,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAMxC,GAAG,kBAAT,SACE,cAAC,IAAD,CAAMyC,MAAO,qBAAKnB,IAAI,QAAQvB,IAAK4C,IAAnC,uBAGJ,cAAC,IAAD,CAAKJ,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAMxC,GAAG,0BAAT,SACE,cAAC,IAAD,CAAMyC,MAAO,qBAAKnB,IAAI,cAAcvB,IAAK6C,KAAzC,6BAKJ,cAAC,IAAD,CAAKL,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAMxC,GAAG,mBAAT,SACE,cAAC,IAAD,CAAMyC,MAAO,qBAAKnB,IAAI,SAASvB,IAAK8C,KAApC,+B,oBCpCJC,GAAgBX,IAAhBW,KAAMZ,GAAUC,IAAVD,MAEDa,GAAc,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QACpBpD,EAAkDoD,EAAlDpD,GAAIE,EAA8CkD,EAA9ClD,MAAOmD,EAAuCD,EAAvCC,MAAOC,EAAgCF,EAAhCE,QAASnF,EAAuBiF,EAAvBjF,MAAOoF,EAAgBH,EAAhBG,YAE1C,OACE,cAAC,IAAD,CAAMnD,GAAE,mBAAcJ,GAAtB,SACE,cAAC,IAAD,CACEwD,WAAS,EACTX,MACE,qBACElE,MAAO,CAAE8E,gBAAgB,OAAD,OAASJ,EAAT,MACxBzF,UAAU,4BALhB,SASE,sBAAKA,UAAU,wBAAf,UACE,sBACEA,UAAU,4BACVe,MAAO,CAAE+E,SAAU,UAFrB,UAIE,eAAC,GAAD,CAAOC,MAAO,EAAG/F,UAAU,sBAA3B,UACGM,EAAYC,GACb,2CAEF,cAAC+E,GAAD,CAAMU,QAAM,EAACC,UAAQ,EAACjG,UAAU,sBAAhC,SACGsC,IAEH,cAACgD,GAAD,CAAMW,UAAQ,EAACjG,UAAU,wBAAzB,SACG0F,OAGL,sBAAK1F,UAAU,4DAAf,UACE,cAACkG,GAAA,EAAD,CAAcnF,MAAO,CAAEoF,YAAa,EAAGC,MAAO/F,KAC9C,eAACiF,GAAD,WAAOK,EAAP,wBCxCJjB,GAAUC,IAAVD,MAEK2B,GAAe,SAAC,GAAgC,IAA9B/D,EAA6B,EAA7BA,MAAOgE,EAAsB,EAAtBA,SACpC,OACE,sBAAKtG,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO+F,MAAO,EAAG/F,UAAU,uBAA3B,SACGsC,IAEH,cAAC,KAAD,CACEiE,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJxB,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPC,WAAYN,EACZO,WAAY,SAACrB,GAAD,OACV,cAAC,KAAKrE,KAAN,UACE,cAAC,GAAD,CAAaqE,QAASA,aC3BrBsB,GAAuB,WAGlC,OACE,sBAAK9G,UAAU,yBAAf,UACE,cAAC,IAAD,CAAUI,UAAW,CAAE2G,KAAM,KAC7B,cAAC,KAAD,CACER,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJxB,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPC,WAfY,CAAC,GAAI,GAAI,GAAI,IAgBzBC,WAAY,kBACV,cAAC,KAAK1F,KAAN,UACE,cAAC,IAAD,CACEJ,MAAO,CAAEiG,SAAU,KACnB/B,MACE,qBACElE,MAAO,CAAE8E,gBAAgB,OAAD,OC5B3B,8vRD4B2B,MACxB7F,UAAU,2CAGdiH,SAAO,aEhCN,OAA0B,mCCA1B,OAA0B,2CCA1B,OAA0B,0C,mBpBS7BzH,K,sCAAAA,E,uCAAAA,M,cAKAC,K,sBAAAA,E,eAAAA,M,KqBKZ,IAEMyH,GAAO,SAACC,GAAgC,IAAD,EACVC,mBAC/B7H,YACA,CACE8H,UAAW,CACTC,OAAQ9H,EAAc+H,kBACtBC,MARW,EASXC,KAAM,KANJ9F,EADmC,EACnCA,KAAMsF,EAD6B,EAC7BA,QAD6B,EACpB/F,MAkCvB,OACE,eAAC,UAAD,CACElB,UAAU,OACVe,MAAO,CAAE8E,gBAAgB,OAAD,OAAS6B,GAAT,MAF1B,UAIE,cAAC,GAAD,CAAUrD,SA7BG,SAACsD,GAChB,IAAMC,EAAaD,EAAIpD,OACnBqD,EACFT,EAAM/D,QAAQoB,KAAd,oBAAgCoD,IAEhC3G,EAAoB,kCAyBpB,sBAAKjB,UAAU,oBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,0BAA3B,8CAGA,cAAC,IAAD,yFAIA,cAAC,IAAD,CACEwC,GAAG,4BACHxC,UAAU,8DAFZ,sDA5BAiH,EACK,cAAC,GAAD,IAELtF,EAEA,cAAC,GAAD,CACE2E,SAAU3E,EAAK2E,SAASuB,OACxBvF,MAAM,qBAIL,KAyBL,sBAAKtC,UAAU,iBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,uBAA3B,kCAGA,eAAC,IAAD,CAAK8E,OAAQ,GAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAIyB,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMhE,GAAG,4BAAT,SACE,qBAAKxC,UAAU,2BAAf,SACE,qBACEuC,IAAKuF,GACLhE,IAAI,gBACJ9D,UAAU,6BAKlB,cAAC,IAAD,CAAK+E,GAAI,GAAIyB,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMhE,GAAG,sBAAT,SACE,qBAAKxC,UAAU,2BAAf,SACE,qBACEuC,IAAKwF,GACLjE,IAAI,YACJ9D,UAAU,uC,sRClGrB,IAAMgI,GAAejJ,cAAH,MC6BjBoC,GAAS8G,KAAT9G,KAEF+G,GAAO,SAAC,GAAuB,IAArB3G,EAAoB,EAApBA,OAAoB,EACOE,sBAGvCuG,GAAc,CACdjG,QAAS,WACPd,EAAoB,yEAItBS,YAAa,WACXf,EAA2B,gDAXG,mBAC3BwH,EAD2B,YACZxG,EADY,EACZA,KAAMsF,EADM,EACNA,QADM,EAeMmB,IAAMnF,UAAS,GAfrB,mBAe3BoF,EAf2B,KAebC,EAfa,OAgBcF,IAAMnF,SACpD,MAjBgC,mBAgB3BsF,EAhB2B,KAgBTC,EAhBS,KAoClC,IAAKjH,EAAOa,KAAOb,EAAOkH,UACxB,OACE,cAAC,UAAD,CAASzI,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,mBAA3B,sFAIA,eAAC,KAAD,CAAMD,KAAK,YAAX,gJAEqE,IACnE,cAAC,IAAD,CAAMyC,GAAG,SAAT,oBAHF,uDAUR,GAAIyE,EACF,OACE,cAAC,UAAD,CAASjH,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,mBAA3B,0BAGA,cAAC,KAAD,CAAMD,KAAK,YAAX,oDAMR,GAAI4B,GAAQA,EAAKwG,YACf,OAAO,cAAC,IAAD,CAAU3F,GAAE,mBAAcb,EAAKwG,YAAY/F,MA0BpD,OACE,cAAC,UAAD,CAASpC,UAAU,eAAnB,SACE,eAAC,KAAD,CACE0I,OAAO,WACPC,SA3BW,SAACC,GAChB,IAAMC,EAAW,UAAMD,EAAOlD,QAAb,aAAyBkD,EAAOE,KAAhC,aAAyCF,EAAOG,MAAhD,aAA0DH,EAAOI,SAE5EC,EAAK,2BACNL,GADM,IAETlD,QAASmD,EACTpD,MAAO8C,EACPhI,MAAsB,IAAfqI,EAAOrI,eAET0I,EAAMH,YACNG,EAAMF,aACNE,EAAMD,QACbb,EAAY,CACVd,UAAW,CACT4B,WAGJT,EAAoB,OAWhBU,eATiB,SAACC,GACtBlI,EAAoB,8CAShBmI,gBAAiB,SAACC,GAAD,OAAOA,EAAEC,kBAJ5B,UAME,sBAAKtJ,UAAU,oBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,mBAA3B,uDAGA,cAAC,KAAD,CAAMD,KAAK,YAAX,sGAMF,cAAC,GAAD,CACEwJ,MAAM,YACNC,KAAK,OACLC,MAAO,CAAC,CAAEC,UAAU,EAAM/J,QAAS,+BAHrC,SAKE,eAAC,KAAMgK,MAAP,WACE,eAAC,KAAMC,OAAP,CAAc3F,MAAOxE,EAAYoK,UAAjC,UACE,cAACC,GAAA,EAAD,CAAc/I,MAAO,CAAEqF,MAAO/F,KAAoB,IAClD,gDAEF,eAAC,KAAMuJ,OAAP,CAAc3F,MAAOxE,EAAYsK,MAAjC,UACE,cAACC,GAAA,EAAD,CAAcjJ,MAAO,CAAEqF,MAAO/F,KAAoB,IAClD,iDAKN,cAAC,GAAD,CACEkJ,MAAM,kBACNC,KAAK,cACLC,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,yCANf,SAUE,cAAC,KAAD,CAAasK,IAAK,EAAGlG,YAAY,QAGnC,cAAC,GAAD,CACEwF,MAAM,QACNC,KAAK,QACLU,MAAM,4BACNT,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,2CAPf,SAWE,cAAC,IAAD,CACEwK,UAAW,GACXpG,YAAY,+CAIhB,cAAC,GAAD,CACEwF,MAAM,yBACNC,KAAK,cACLU,MAAM,6BACNT,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,iDAPf,SAWE,cAAC,IAAMyK,SAAP,CACErD,KAAM,EACNoD,UAAW,IACXpG,YAAY,yGAIhB,cAAC,GAAD,CACEwF,MAAM,UACNC,KAAK,UACLC,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,6CANf,SAUE,cAAC,IAAD,CAAOoE,YAAY,+BAGrB,cAAC,GAAD,CACEwF,MAAM,YACNC,KAAK,OACLC,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,sDANf,SAUE,cAAC,IAAD,CAAOoE,YAAY,kBAGrB,cAAC,GAAD,CACEwF,MAAM,iBACNC,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,yDANf,SAUE,cAAC,IAAD,CAAOoE,YAAY,iBAGrB,cAAC,GAAD,CACEwF,MAAM,kBACNC,KAAK,UACLC,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,0DANf,SAUE,cAAC,IAAD,CAAOoE,YAAY,gDAGrB,cAAC,GAAD,CACEwF,MAAM,QACNC,KAAK,QACLU,MAAM,6DACNT,MAAO,CACL,CAAEC,UAAU,EAAM/J,QAAS,sCAL/B,SAQE,qBAAKK,UAAU,0BAAf,SACE,cAAC,KAAD,CACEwJ,KAAK,QACLa,SAAS,eACTC,gBAAgB,EAChBC,aAAcC,GACdtG,SA/Nc,SAACuG,GAA6B,IAC9CC,EAASD,EAATC,KACY,cAAhBA,EAAKC,OAIW,SAAhBD,EAAKC,QAAqBD,EAAKE,eACjCC,GAAeH,EAAKE,eAAe,SAACrC,GAClCC,EAAoBD,GACpBD,GAAgB,MANlBA,GAAgB,IA6NRwC,OAAO,OANT,SAQGvC,EACC,qBAAKhG,IAAKgG,EAAkBzE,IAAI,YAEhC,gCACGuE,EAAe,cAAC0C,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,IACtC,qBAAKhL,UAAU,kBAAf,6BAOV,cAAC,GAAD,CACEuJ,MAAM,QACNC,KAAK,QACLU,MAAM,yBACNT,MAAO,CACL,CACEC,UAAU,EACV/J,QAAS,2CAPf,SAWE,cAAC,KAAD,CAAasK,IAAK,EAAGlG,YAAY,UAGnC,cAAC,GAAD,UACE,cAAC,IAAD,CAAQhE,KAAK,UAAUkL,SAAS,SAAhC,4BASJT,GAAoB,SAACE,GACzB,IAAMQ,EACU,eAAdR,EAAK3K,MAAuC,cAAd2K,EAAK3K,KAC/BoL,EAAkBT,EAAK7F,KAAO,KAAO,KAAO,EAElD,OAAKqG,EAKAC,EAOED,GAAoBC,GANzBlK,EACE,uEAEK,IARPA,EAAoB,uDACb,IAaL4J,GAAiB,SACrBO,EACAC,GAEA,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,WACdJ,EAASC,EAAOzD,U,UC7UZ6D,GAAWC,KAAXD,OAEKE,GAAkB,SAAC,GAAkC,IAAhCtE,EAA+B,EAA/BA,OAAQuE,EAAuB,EAAvBA,UACxC,OACE,sBAAK7L,UAAU,mBAAf,UACE,6CACA,eAAC,KAAD,CACEiE,MAAOqD,EACPpD,SAAU,SAACoD,GAAD,OAA2BuE,EAAUvE,IAFjD,UAIE,cAACoE,GAAD,CAAQzH,MAAOzE,EAAcsM,kBAA7B,gCAGA,cAACJ,GAAD,CAAQzH,MAAOzE,EAAc+H,kBAA7B,uC,UCZKwE,GAAqB,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,MAAOvE,EAAkC,EAAlCA,KAAMD,EAA4B,EAA5BA,MAAOyE,EAAqB,EAArBA,QACvD,OACE,cAAC,KAAD,CACEC,QAASzE,EACTuE,MAAOA,EACPG,gBAAiB3E,EACjB4E,kBAAgB,EAChBC,eAAa,EACbnI,SAAU,SAACuD,GAAD,OAAkBwE,EAAQxE,IACpCzH,UAAU,yBCdHsM,GAAmB,WAG9B,OACE,gCACE,cAAC,IAAD,CAAUlM,UAAW,CAAE2G,KAAM,KAC7B,cAAC,KAAD,CACER,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJxB,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPC,WAfY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAgBzCC,WAAY,kBACV,cAAC,KAAK1F,KAAN,UACE,cAAC,IAAD,CACE8D,MACE,qBACElE,MAAO,CAAE8E,gBAAgB,OAAD,OC3B3B,8vRD2B2B,MACxB7F,UAAU,sCAGdiH,SAAO,EACPjH,UAAU,qCEHlBuM,GAAW,SAACpF,GAA6C,IAAD,EACpCiB,IAAMnF,SAAS,GADqB,mBACrDwE,EADqD,KAC/CwE,EAD+C,OAGhC7D,IAAMnF,SAChCzD,EAAcsM,mBAJ4C,mBAGrDxE,EAHqD,KAG7CuE,EAH6C,KAMtDW,EAAcpE,IAAMqE,OAAOtF,EAAMuF,MAAMC,OAAOrJ,UANQ,EAO3B8D,mBAC/B7H,YACA,CACEqN,KAAMJ,EAAYN,UAAY/E,EAAMuF,MAAMC,OAAOrJ,UAAqB,IAATmE,EAC7DJ,UAAW,CACT/D,SAAU6D,EAAMuF,MAAMC,OAAOrJ,UAAY,KACzCgE,SACAE,MApBW,EAqBXC,UARE9F,EAPoD,EAOpDA,KAAMsF,EAP8C,EAO9CA,QAAS/F,EAPqC,EAOrCA,MAavBkH,IAAM5E,WAAU,WACdyI,EAAQ,KACP,CAAC9E,EAAMuF,MAAMC,OAAOrJ,WAEvB,IAAMgD,EAAW3E,EAAOA,EAAK2E,SAAW,KAClCuG,GAAyB,OAARvG,QAAQ,IAARA,OAAA,EAAAA,EAAUwG,SAAU,KAC3C,GAAI7F,EACF,OACE,cAAC,UAAD,CAASjH,UAAU,WAAnB,SACE,cAAC,GAAD,MAIN,GAAIkB,EACF,OACE,eAAC,UAAD,CAASlB,UAAU,WAAnB,UACE,cAAC,EAAD,CAAaL,QAAQ,8KACrB,cAAC,GAAD,OAIN,IAAMoN,EACJzG,GAAYA,EAASuB,OAAOhE,OAC1B,gCACE,eAAC,IAAD,CAAOmJ,UAAW,GAAlB,UACE,cAAC,GAAD,CACEhB,MAAO1F,EAAS0F,OAAS,EACzBvE,KAAMA,EACND,MAtDO,EAuDPyE,QAASA,IAEX,cAAC,GAAD,CAAiB3E,OAAQA,EAAQuE,UAAWA,OAE9C,cAAC,KAAD,CACEjF,WAAYN,EAASuB,OACrBtB,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJxB,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPE,WAAY,SAACrB,GAAD,OACV,cAAC,KAAKrE,KAAN,UACE,cAAC,GAAD,CAAaqE,QAASA,YAM9B,gCACE,eAAC,IAAD,mEAEG,eAAC,KAAD,CAAMyH,MAAI,EAAV,cAAaJ,EAAb,WAEH,eAAC,IAAD,6CACkC,IAChC,cAAC,IAAD,CAAMrK,GAAG,QAAT,wCAKF0K,EAAwBL,EAC5B,eAAC,IAAD,CAAO7M,UAAU,kBAAjB,yBAAgD6M,EAAhD,OACE,KAEJ,OACE,eAAC,UAAD,CAAS7M,UAAU,WAAnB,UACGkN,EACAH,M,6DC5GCI,GAAqBxI,IAArBwI,UAAWzI,GAAUC,IAAVD,MAEN0I,GAAiB,SAAC,GAAwB,IAAtB5H,EAAqB,EAArBA,QAC/B,IAAKA,EACH,OAAO,KAF2C,IAKlDlD,EAQEkD,EARFlD,MACA1C,EAOE4F,EAPF5F,YACA6F,EAMED,EANFC,MACA1F,EAKEyF,EALFzF,KACA2F,EAIEF,EAJFE,QACAoD,EAGEtD,EAHFsD,KACAnD,EAEEH,EAFFG,YACA0H,EACE7H,EADF6H,KAGF,OACE,sBAAKrN,UAAU,kBAAf,UACE,qBACEe,MAAO,CAAE8E,gBAAgB,OAAD,OAASJ,EAAT,MACxBzF,UAAU,2BAGZ,sBAAKA,UAAU,+BAAf,UACE,eAAC,GAAD,CACED,KAAK,YACLkG,UAAQ,EACRjG,UAAU,gCAHZ,UAKE,eAAC,IAAD,CAAMwC,GAAE,oBAAesG,GAAvB,UACE,cAACwE,GAAA,EAAD,CAAqBvM,MAAO,CAAEqF,MAAO/F,KADvC,IAC4DyI,KAE5D,cAAC,KAAD,CAAS/I,KAAK,aACb2F,KAEH,cAAC,GAAD,CAAOK,MAAO,EAAG/F,UAAU,yBAA3B,SACGsC,OAIL,cAAC,KAAD,IAEA,qBAAKtC,UAAU,2BAAf,SACE,eAAC,IAAD,CAAMwC,GAAE,gBAAW6K,EAAKjL,IAAxB,UACE,cAAC,IAAD,CAAQG,IAAK8K,EAAKhL,OAAQwC,KAAM,KAChC,cAAC,GAAD,CAAOkB,MAAO,EAAG/F,UAAU,6BAA3B,SACGqN,EAAK7D,YAKZ,cAAC,KAAD,IAEA,sBAAKxJ,UAAU,2BAAf,UACE,cAAC,GAAD,CAAO+F,MAAO,EAAd,8BACA,sBAAK/F,UAAU,+BAAf,UACE,cAAC,KAAD,CAAKoG,MAAM,UAAX,SAAsBrG,IACtB,eAAC,KAAD,CAAKqG,MAAM,UAAX,UAAsBT,EAAtB,gBAEF,cAAC,GAAD,CAAWM,SAAU,CAAEc,KAAM,EAAGwG,YAAY,GAA5C,SACG3N,WC1DH0F,GAAgBX,IAAhBW,KAAMZ,GAAUC,IAAVD,MAED8I,GAAkB,SAAC,GAKlB,IAJZC,EAIW,EAJXA,gBACAC,EAGW,EAHXA,aACAlG,EAEW,EAFXA,MACAmG,EACW,EADXA,gBAEM3B,EAAQyB,EAAkBA,EAAgBzB,MAAQ,KAClDnE,EAAS4F,EAAkBA,EAAgB5F,OAAS,KAEpD+F,EAAsBH,EAC1B,cAAC,KAAD,CACElH,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJC,GAAI,GAENG,WAAYiB,QAAkBgG,EAC9BC,OAAQ,CAAEC,UAAW,mCACrBC,WAAY,CACV9B,QAASwB,EACT1B,MAAOA,QAAgB6B,EACvB1B,gBAAiB3E,EACjB4E,kBAAkB,EAClBC,eAAe,EACfnI,SAAU,SAACuD,GAAD,OAAkBkG,EAAgBlG,KAE9CZ,WAAY,SAACoH,GACX,IAAMC,EACJ,sBAAKlO,UAAU,4BAAf,UACE,6CACY,cAAC,GAAD,CAAMgG,QAAM,EAAZ,SAAciI,EAAeE,aAEzC,8CACa,cAAC,GAAD,CAAMnI,QAAM,EAAZ,SAAciI,EAAeG,iBAK9C,OACE,mCACE,eAAC,KAAKjN,KAAN,CAAWnB,UAAU,yBAArB,UACE,0CACCkO,EACD,cAAC,IAAD,CAAM1L,GAAE,gBAAWyL,EAAeI,OAAOjM,IAAzC,SACE,cAAC,IAAD,CACEG,IAAK0L,EAAeI,OAAOhM,OAC3BwC,KAAM,GACNyJ,MAAM,qBAQlB,KAYJ,OAV+BV,EAC7B,sBAAK5N,UAAU,mBAAf,UACE,cAAC,KAAD,IACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,GAAD,CAAO+F,MAAO,EAAd,wBAED6H,KAED,M,uCCtEET,GAA2BxI,IAA3BwI,UAAW7H,GAAgBX,IAAhBW,KAAMZ,GAAUC,IAAVD,MAcZ6J,GAAuB,SAAC,GAUvB,IATZhN,EASW,EATXA,OACA8L,EAQW,EARXA,KACA9M,EAOW,EAPXA,MACAiO,EAMW,EANXA,cACAC,EAKW,EALXA,YACAC,EAIW,EAJXA,aACAC,EAGW,EAHXA,eACAC,EAEW,EAFXA,gBACAC,EACW,EADXA,gBAEMC,EAAmCC,KAAKC,MAAMR,GAc9CS,EAAe,SAACC,GACpB,GAAIA,EAAa,CACf,IAAMC,EAAuBD,EAAYE,SAASC,OAASC,MAAM,QAC3DC,EAAiCF,KAAOH,GAAaM,QACzDH,OAASC,MAAM,OAAOG,IAAI,GAAI,SAGhC,OACEN,GACAI,GArBe,SAACL,GACpB,IAAMQ,EAAOL,KAAOH,GAAaQ,OAC3BC,EAAQN,KAAOH,GAAaS,QAC5BC,EAAMP,KAAOH,GAAaW,OAEhC,SAAIf,EAAkBY,KAASZ,EAAkBY,GAAMC,KAC9CG,QAAQhB,EAAkBY,GAAMC,GAAOC,IAgB5CG,CAAab,GAGf,OAAO,GAoCLc,EAAezO,EAAOa,KAAOiL,EAAKjL,GAClC6N,GAAwB1O,EAAOa,IAAM4N,IAAiB3C,EAAK5E,UAC3DyH,EAAwBD,IAAyBxB,EACjD0B,EAAiBD,IAA0BzB,IAAgBC,EAE7D0B,EAAgB,2BAUpB,OATK7O,EAAOa,GAED4N,EACTI,EAAgB,mCACN/C,EAAK5E,YACf2H,EACE,qFALFA,EAAgB,8CAShB,qBAAKpQ,UAAU,kBAAf,SACE,eAAC,IAAD,CAAMA,UAAU,wBAAhB,UACE,gCACE,cAAC,GAAD,UACE,eAAC,GAAD,CAAO+F,MAAO,EAAG/F,UAAU,8BAA3B,UACGM,EAAYC,GACb,6CAGJ,cAAC,KAAD,IACA,sBAAKP,UAAU,oCAAf,UACE,cAAC,GAAD,CAAWgG,QAAM,EAAjB,sBACA,cAAC,KAAD,CACE/B,MAAOwK,QAA4BZ,EACnCwC,OAAQ,aACRC,WAAW,EACXC,SAAUN,EACVhB,aAAcA,EACd/K,SAAU,SAACsM,GAAD,OAAe7B,EAAe6B,IACxCC,aAAc,kBAAM7B,EAAgB,OACpC8B,kBAAmB,WACjB,OACE,8BACE,cAAC,GAAD,CAAM3Q,KAAK,YAAYC,UAAU,2BAAjC,4EAQV,sBAAKA,UAAU,oCAAf,UACE,cAAC,GAAD,CAAWgG,QAAM,EAAjB,uBACA,cAAC,KAAD,CACE/B,MAAOyK,QAA8Bb,EACrCwC,OAAQ,aACRC,WAAW,EACXC,SAAUL,EACVjB,aAAcA,EACd/K,SAAU,SAACsM,GAAD,OAvFW,SAACG,GAChC,GAAIlC,GAAekC,EAAsB,CACvC,GAAItB,KAAOsB,GAAsBvB,SAASX,EAAa,QACrD,OAAOxN,EAAoB,6DAO7B,IAFA,IAAI2P,EAAanC,EAEVY,KAAOuB,GAAYxB,SAASuB,EAAsB,SAAS,CAChEC,EAAavB,KAAOuB,GAAYnB,IAAI,EAAG,QAEvC,IAAMC,EAAOL,KAAOuB,GAAYlB,OAC1BC,EAAQN,KAAOuB,GAAYjB,QAC3BC,EAAMP,KAAOuB,GAAYf,OAE/B,GACEf,EAAkBY,IAClBZ,EAAkBY,GAAMC,IACxBb,EAAkBY,GAAMC,GAAOC,GAE/B,OAAO3O,EACL,uFAMR2N,EAAgB+B,GA0DmBE,CAAyBL,IAClDM,WAAY,SAAC5E,GACX,OACEmD,KAAOnD,GAAS6E,OACdtC,QAA4BZ,EAC5B,OAIA,cAAC,KAAD,CAASvL,MAAM,gBAAf,SACE,qBAAKtC,UAAU,gDAAf,SACGkM,EAAQ2D,WAMb,qBAAK7P,UAAU,oBAAf,SAAoCkM,EAAQ2D,UAIlDa,kBAAmB,WACjB,OACE,8BACE,cAAC,GAAD,CAAM3Q,KAAK,YAAYC,UAAU,2BAAjC,6DASZ,cAAC,KAAD,IACA,cAAC,IAAD,CACEuQ,SAAUJ,EACVtL,KAAK,QACL9E,KAAK,UACLC,UAAU,4BACVyC,QAAS,kBAAMoM,GAAgB,IALjC,8BASA,cAAC,GAAD,CAAM9O,KAAK,YAAYkN,MAAI,EAA3B,SACGmD,U,oBC/JHjD,GAA2BxI,IAA3BwI,UAAW7H,GAAgBX,IAAhBW,KAAMZ,GAAUC,IAAVD,MAOnBsM,GAAe,SAAC,GAII,IAHxBjP,EAGuB,EAHvBA,QACAkP,EAEuB,EAFvBA,UAEuB,IADvBhK,eACuB,SACjBiK,EAASC,sBACTC,EAAWC,wBAEXC,EAAY,yCAAG,WAAOC,GAAP,kBAAAC,EAAA,yDAGnBD,EAAMjI,iBACD4H,GAAWE,EAJG,oDASbK,EAAcL,EAASM,WAAWC,eATrB,iEAcET,EAAOU,YAAYH,GAdrB,QAcb5J,EAda,QAgBR3G,MACTa,EAAQ8F,EAAO3G,OAEX2G,EAAOgK,OACTZ,EAAUpJ,EAAOgK,OApBF,4CAAH,sDAyBlB,OACE,uBAAMC,SAAUR,EAAhB,UACE,cAAC,cAAD,CACEtR,UAAU,qCACV+R,QAAS,CAAEC,gBAAgB,KAG7B,cAAC,IAAD,CACEnN,KAAK,QACLoG,SAAS,SACTlL,KAAK,UACLC,UAAU,6BACViH,QAASA,EALX,sBAaOgL,GAA4B,SAAC,GAS5B,IARZ7P,EAQW,EARXA,GACA7B,EAOW,EAPXA,MACA2R,EAMW,EANXA,aACAzD,EAKW,EALXA,YACAC,EAIW,EAJXA,aACAG,EAGW,EAHXA,gBACAsD,EAEW,EAFXA,iBACAC,EACW,EADXA,qBACW,EAC0B3Q,sBAGnCtC,iBAAgB,CAChBuC,YAAa,WACXyQ,IACAxR,EACE,0CACA,0DAEFyR,KAEFrQ,QAAS,WACPd,EACE,uFAfK,mBACJoR,EADI,KACapL,EADb,KACaA,QAmBlBqL,EAAa5D,EAAa6D,KAAK9D,EAAa,QAAU,EACtD+D,EAAejS,EAAQ+R,EAE7B,OACE,cAAC,KAAD,CACEG,QAASP,EACTQ,UAAQ,EACRC,OAAQ,KACRC,SAAU,kBAAM/D,GAAgB,IAJlC,SAME,sBAAK7O,UAAU,wBAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,cAAC,GAAD,CAAOA,UAAU,sCAAjB,SACE,cAAC6S,GAAA,EAAD,MAEF,cAAC,GAAD,CAAO9M,MAAO,EAAG/F,UAAU,sCAA3B,4BAGA,eAAC,GAAD,uFAEU,IACR,cAAC,GAAD,CAAMiN,MAAI,EAACjH,QAAM,EAAjB,SACGqJ,KAAOZ,GAAa4B,OAAO,kBACtB,IALV,MAMM,IACJ,cAAC,GAAD,CAAMpD,MAAI,EAACjH,QAAM,EAAjB,SACGqJ,KAAOX,GAAc2B,OAAO,kBARjC,qBAcF,cAAC,KAAD,IAEA,sBAAKrQ,UAAU,wCAAf,UACE,eAAC,GAAD,WACGM,EAAYC,GAAO,GADtB,MACiC+R,EADjC,UACoD,IAClD,cAAC,GAAD,CAAMtM,QAAM,EAAZ,SAAc1F,EAAYkS,GAAc,QAE1C,eAAC,GAAD,CAAWxS,UAAU,8CAArB,qBACU,cAAC,GAAD,CAAMiN,MAAI,EAAV,SAAY3M,EAAYkS,GAAc,WAIlD,cAAC,KAAD,IAEA,qBAAKxS,UAAU,6CAAf,SACE,cAAC,GAAD,CACEiH,QAASA,EACTlF,QAAS,SAACC,GACJA,EAAIrC,QACNsB,EAAoBe,EAAIrC,SAExBsB,EACE,mDAINgQ,UAAW,SAACY,GACVQ,EAAc,CACZhL,UAAW,CACT4B,MAAO,CACL7G,KACA0Q,OAAQjB,EAAMzP,GACd+L,QAASkB,KAAOZ,GAAa4B,OAAO,cACpCjC,SAAUiB,KAAOX,GAAc2B,OAAO,kBAI5C+B,IAAuBW,MAAK,WAC1BlE,GAAgB,iBC7K1BmE,GAAU,SAAC,GAGgC,IAF/CtG,EAE8C,EAF9CA,MACAnL,EAC8C,EAD9CA,OAC8C,EACR6G,IAAMnF,SAAS,GADP,mBACvCgQ,EADuC,KAC1BC,EAD0B,OAEF9K,IAAMnF,UAAS,GAFb,mBAEvCkQ,EAFuC,KAEvBC,EAFuB,OAGRhL,IAAMnF,SAAwB,MAHtB,mBAGvCwL,EAHuC,KAG1B4E,EAH0B,OAINjL,IAAMnF,SAAwB,MAJxB,mBAIvCyL,EAJuC,KAIzB4E,EAJyB,OAKJlM,mBAGxC9H,WAAS,CACT+H,UAAW,CACTqG,aAAc,EACdtL,GAAIsK,EAAMC,OAAOvK,GACjBoF,MAjBa,KAUT7F,EALsC,EAKtCA,KAAMsF,EALgC,EAKhCA,QAAS/F,EALuB,EAKvBA,MAAOqS,EALgB,EAKhBA,QAU9B,GAAItM,EACF,OACE,cAAC,UAAD,CAASjH,UAAU,UAAnB,SACE,cAAC,EAAD,MAIN,GAAIkB,EACF,OACE,eAAC,UAAD,CAASlB,UAAU,UAAnB,UACE,cAAC,EAAD,CAAaJ,YAAY,mFACzB,cAAC,EAAD,OAIN,IAAM4F,EAAU7D,EAAOA,EAAK6D,QAAU,KAChCyI,EAAiBzI,EAAUA,EAAQgO,SAAW,KAC9CC,EAAwBxF,EAC5B,cAAC,GAAD,CACEP,aAAcuF,EACdzL,MAxCa,EAyCbiG,gBAAiBQ,EACjBN,gBAAiBuF,IAEjB,KAEEQ,EAA8BlO,EAClC,cAAC,GAAD,CACEgJ,cAAehJ,EAAQgJ,eAAiB,KACxCC,YAAaA,EACbC,aAAcA,EACdrB,KAAM7H,EAAQ6H,KACd9M,MAAOiF,EAAQjF,MACfoO,eAAgB0E,EAChBzE,gBAAiB0E,EACjBzE,gBAAiBuE,EACjB7R,OAAQA,IAER,KAEJ,OACE,eAAC,UAAD,CAASvB,UAAU,UAAnB,WACU,OAAPwF,QAAO,IAAPA,OAAA,EAAAA,EAASjF,QAASkO,GAAeC,GAChC,cAAC,GAAD,CACED,YAAaA,EACbC,aAAcA,EACdyD,iBAAkB,aAClBC,qBAAoB,wBAAE,uBAAAZ,EAAA,sEACd+B,IADc,2CAGtBrB,aAAciB,EACd5S,MAAOiF,EAAQjF,MACfsO,gBAAiBuE,EACjBhR,GAAIoD,EAAQpD,KAIhB,eAAC,IAAD,CAAK0C,OAAQ,GAAI6O,QAAQ,gBAAzB,UACE,eAAC,IAAD,CAAK5O,GAAI,GAAI0B,GAAI,GAAjB,UACE,cAAC,GAAD,CAAgBjB,QAASA,IACxBiO,KAEH,cAAC,IAAD,CAAK1O,GAAI,GAAI0B,GAAI,GAAjB,SACGiN,WC1GLE,GAAW,WACf,OAAO,2C,qBCyBHC,GAAS,kFAA8EC,sCAA9E,+DAETC,GAAc,SAAC5M,GAAkB,IAAD,EACU1F,sBAC5CvC,oBACA,CACEwC,YAAa,SAACC,GACRA,GAAQA,EAAKqS,mBACf7M,EAAM3F,UAAN,2BAAqB2F,EAAM5F,QAA3B,IAAmCkH,UAAW,QAC9C9H,EACE,+CACA,uEAEFwG,EAAM8M,sBAGVlS,QAAS,WACPd,EACE,gFAhB4B,mBAC7B+S,EAD6B,YA6B9BE,GA7B8B,EACTvS,KADS,EACHsF,QAyBb,IAAIkN,IAAIC,OAAO9Q,SAAS+Q,MAAMC,aAAaC,IAC7D,gBAGA,cAAC,EAAD,CAAa5U,QAAQ,gEACnB,MAEE6U,EAAkBrN,EAAMsN,KAAKhM,UACjC,qCACE,cAAC,IAAD,UACE,cAAC,KAAD,CAAKrC,MAAM,QAAX,iCAEF,eAAC,IAAD,6BACiB,cAAC,KAAD,CAAMJ,QAAM,EAAZ,SAAcmB,EAAMsN,KAAKC,YAE1C,cAAC,IAAD,CACE3U,KAAK,UACLC,UAAU,4BACVyC,QAAS,kBAAMuR,KAHjB,+BAOA,eAAC,IAAD,CAAWjU,KAAK,YAAhB,2DACiD,IAC/C,cAAC,KAAD,CAAMiG,QAAM,EAAZ,kCAFF,6FAOF,qCACE,cAAC,IAAD,0FAIA,eAAC,IAAD,6BACiB,cAAC,KAAD,CAAMA,QAAM,EAAZ,SAAc1F,EAAY6G,EAAMsN,KAAKC,QAAU,QAEhE,cAAC,IAAD,CACE3U,KAAK,UACLC,UAAU,4BACVyC,QA5CmB,WACvB2R,OAAO9Q,SAAS+Q,KAAOR,IAwCrB,iCAOA,eAAC,IAAD,CAAW9T,KAAK,YAAhB,2BACiB,IACf,mBACEsU,KAAK,mCACLjQ,OAAO,SACPuQ,IAAI,sBAHN,oBAFF,uEAcEC,EAAwBzN,EAAM0N,QAClC,qCACE,cAAC,KAAD,IACA,cAAC,IAAD,CAAO9O,MAAO,EAAd,8BACCyO,KAED,KACJ,OACE,sBAAKxU,UAAU,eAAf,UACGkU,EACD,eAAC,IAAD,CAAMlU,UAAU,qBAAhB,UACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,KAAD,CAAQ6E,KAAM,IAAKtC,IAAK4E,EAAMsN,KAAKpS,WAErC,cAAC,KAAD,IACA,sBAAKrC,UAAU,wBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAd,qBACA,eAAC,IAAD,oBACQ,eAAC,KAAD,CAAMC,QAAM,EAAZ,UAAcmB,EAAMsN,KAAKjL,KAAzB,UAER,eAAC,IAAD,uBACW,eAAC,KAAD,CAAMxD,QAAM,EAAZ,UAAcmB,EAAMsN,KAAKK,QAAzB,UAEVF,YC5HEG,GAAe,SAAC,GAKf,IAJZvN,EAIW,EAJXA,MACAkG,EAGW,EAHXA,aACAC,EAEW,EAFXA,gBAEW,IADXqH,cAE0C,CACxChJ,WAAO6B,EACPhG,YAAQgG,GAFF7B,EADG,EACHA,MAAOnE,EADJ,EACIA,OAIToN,EACJ,cAAC,KAAD,CACE1O,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPC,WAAYiB,EACZiG,OAAQ,CAAEC,UAAW,uCACrBC,WAAY,CACVkH,SAAU,MACVhJ,QAASwB,EACT1B,QACAG,gBAAiB3E,EACjB4E,kBAAkB,EAClBC,eAAe,EACfnI,SAAU,SAACuD,GAAD,OAAkBkG,EAAgBlG,KAE9CZ,WAAY,SAACsO,GACX,IAAMjH,EACJ,sBAAKlO,UAAU,4BAAf,UACE,6CACY,cAAC,KAAD,CAAMgG,QAAM,EAAZ,SAAcmP,EAAYhH,aAEtC,8CACa,cAAC,KAAD,CAAMnI,QAAM,EAAZ,SAAcmP,EAAY/G,iBAI3C,OACE,eAAC,KAAKjN,KAAN,WACG+M,EACD,cAAC,GAAD,CAAa1I,QAAS2P,EAAY7O,iBAM5C,OACE,sBAAKtG,UAAU,gBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,uBAA3B,sBAGA,cAAC,IAAD,CAAWA,UAAU,6BAArB,iHAICiV,MC7DMG,GAAe,SAAC,GAKf,IAJZ5N,EAIW,EAJXA,MACA6N,EAGW,EAHXA,aACAC,EAEW,EAFXA,gBAEW,IADXC,cAE0C,CACxCvJ,WAAO6B,EACPhG,YAAQgG,GAFF7B,EADG,EACHA,MAAOnE,EADJ,EACIA,OAIT2N,EACJ,cAAC,KAAD,CACEjP,KAAM,CACJzB,OAAQ,EACRC,GAAI,EACJyB,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,IAAK,GAEPC,WAAYiB,EACZiG,OAAQ,CAAEC,UAAW,uCACrBC,WAAY,CACVkH,SAAU,MACVhJ,QAASmJ,EACTrJ,MAAOA,QAAgB6B,EACvB1B,gBAAiB3E,EACjB4E,kBAAkB,EAClBC,eAAe,EACfnI,SAAU,SAACuD,GAAD,OAAkB6N,EAAgB7N,KAE9CZ,WAAY,SAAC4O,GAAD,OACV,cAAC,KAAKtU,KAAN,UACE,cAAC,GAAD,CAAaqE,QAASiQ,SAK9B,OACE,sBAAKzV,UAAU,gBAAf,UACE,cAAC,IAAD,CAAO+F,MAAO,EAAG/F,UAAU,uBAA3B,sBAGA,cAAC,IAAD,CAAWA,UAAU,6BAArB,iHAICwV,MCjCDE,GAAO,SAACvO,GAAqD,IAAD,EACxBiB,IAAMnF,SAAS,GADS,mBACzDyK,EADyD,KAC3CC,EAD2C,OAExBvF,IAAMnF,SAAS,GAFS,mBAEzDoS,EAFyD,KAE3CC,EAF2C,KAG1DT,EAAU1N,EAAM5F,OAAOa,KAAO+E,EAAMuF,MAAMC,OAAOvK,GAHS,EAItBgF,mBACxC/H,QACA,CACEgI,UAAW,CACTjF,GAAI+E,EAAMuF,MAAMC,OAAOvK,GACvBoF,MAnBW,EAoBXkG,eACA2H,kBAPEpO,EAJwD,EAIxDA,QAAStF,EAJ+C,EAI/CA,KAAMT,EAJyC,EAIzCA,MAAOqS,EAJkC,EAIlCA,QAYxBoC,EAAkBd,EACtB,cAAC,GAAD,CACEG,aAAY,OAAErT,QAAF,IAAEA,OAAF,EAAEA,EAAM8S,KAAKjB,SACzB9F,aAAcA,EACdlG,MA9Ba,EA+BbmG,gBAAiBA,IAEjB,KACEiI,EACJ,cAAC,GAAD,CACEL,aAAY,OAAE5T,QAAF,IAAEA,OAAF,EAAEA,EAAM8S,KAAKnO,SACzB+O,aAAcA,EACd7N,MAtCa,EAuCb8N,gBAAiBA,IAIrB,GAAIrO,EACF,OACE,cAAC,UAAD,CAASjH,UAAU,OAAnB,SACE,cAAC,EAAD,MAIN,GAAIkB,EACF,OACE,eAAC,UAAD,CAASlB,UAAU,OAAnB,UACE,cAAC,EAAD,CACEJ,YAAW,oFAEb,cAAC,EAAD,OAIN,IAAMiW,GAAyB,OAAJlU,QAAI,IAAJA,OAAA,EAAAA,EAAM8S,MAC/B,cAAC,GAAD,CACEA,KAAM9S,EAAK8S,KACXI,QAASA,EACTtT,OAAQ4F,EAAM5F,OACdC,UAAW2F,EAAM3F,UACjByS,kBAAmBV,IAEnB,KACJ,OACE,eAAC,UAAD,CAASvT,UAAU,OAAnB,UACE,cAAC,IAAD,CAAK8E,OAAQ,GAAI6O,QAAQ,gBAAzB,SACE,cAAC,IAAD,CAAK5O,GAAI,GAAT,SAAc8Q,MAEfF,EACAC,MCzEME,GAAS,SAAC,GAIa,IAHlCvU,EAGiC,EAHjCA,OACAC,EAEiC,EAFjCA,UACA4B,EACiC,EADjCA,QACiC,EACiB3B,sBAGhDxC,iBAAgB,CAChByC,YAAa,SAACC,GACRA,GAAQA,EAAKoU,gBACfvU,EAAU,2BAAKD,GAAN,IAAckH,UAAW9G,EAAKoU,cAActN,aACrD9H,EAA2B,sDAAD,4DARC,mBAC1BoV,EAD0B,YACT9O,EADS,EACTA,QAAStF,EADA,EACAA,KAAMT,EADN,EACMA,MAejC8U,EAAmB5N,IAAMqE,OAAOsJ,GAetC,OAbA3N,IAAM5E,WAAU,WACd,IAAMyS,EAAO,IAAI9B,IAAIC,OAAO9Q,SAAS+Q,MAAMC,aAAaC,IAAI,QACxD0B,EACFD,EAAiB9J,QAAQ,CACvB7E,UAAW,CACT4B,MAAO,CAAEgN,WAIb7S,EAAQ8S,QAAQ,YAEjB,CAAC9S,IAEAzB,GAAQA,EAAKoU,cACR,cAAC,IAAD,CAAUvT,GAAE,gBAAWjB,EAAOa,OAGnC6E,IACD,UACE,KAGD/F,EACK,cAAC,IAAD,CAAUsB,GAAE,gBAAWjB,EAAOa,GAAlB,wBAEd,OCnDD+T,GAAYtT,IAAZsT,QACA7Q,GAAgBX,IAAhBW,KAAMZ,GAAUC,IAAVD,MAMR0R,GAAQ,SAACjP,GACb,IAAMkP,EAASC,4BADe,EAM1B7U,sBAAmC3C,SAAQ,CAC7C4C,YAAa,SAACC,GACRA,GAAQA,EAAK4U,QACfpP,EAAM3F,UAAUG,EAAK4U,OACrB5V,EAA2B,qCAVH,mBAI5B6V,EAJ4B,YAKjBC,EALiB,EAK1BxP,QAAuBtF,EALG,EAKHA,KAAa+U,EALV,EAKGxV,MAU3ByV,EAAWvO,IAAMqE,OAAO+J,GAE9BpO,IAAM5E,WAAU,WACd,IAAMyS,EAAO,IAAI9B,IAAIC,OAAO9Q,SAAS+Q,MAAMC,aAAaC,IAAI,QACxD0B,GACFU,EAASzK,QAAQ,CACf7E,UAAW,CACT4B,MAAO,CACLgN,aAKP,IAEH,IAAMW,EAAsB,yCAAG,+BAAApF,EAAA,+EAEJ6E,EAAOQ,MAAe,CAC3CA,MAAOzX,cAHkB,gBAEnBuC,EAFmB,EAEnBA,KAGRyS,OAAO9Q,SAAS+Q,KAAO1S,EAAKmV,QALD,gDAO3B7V,EAAoB,gEAPO,yDAAH,qDAa5B,GAAIwV,EACF,OACE,cAACN,GAAD,CAASnW,UAAU,SAAnB,SACE,cAAC,IAAD,CAAM6E,KAAK,QAAQkS,IAAI,uBAK7B,GAAIpV,GAAQA,EAAK4U,MAAMnU,GAAI,CAAC,IAClBA,EAAOT,EAAK4U,MAAZnU,GACR,OAAO,cAAC,IAAD,CAAUI,GAAE,gBAAWJ,KAEhC,IAAM4U,EAAqBN,EACzB,cAAC,EAAD,CACE/W,QAAO,iEAEP,KACJ,OACE,eAACwW,GAAD,CAASnW,UAAU,SAAnB,UACGgX,EACD,eAAC,IAAD,CAAMhX,UAAU,cAAhB,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,GAAD,CAAO+F,MAAO,EAAG/F,UAAU,2BAA3B,SACE,sBAAMiX,KAAK,MAAMC,aAAW,OAA5B,4BAIF,cAAC,GAAD,CAAOnR,MAAO,EAAG/F,UAAU,2BAA3B,kCAGA,cAAC,GAAD,yEAEF,yBACEA,UAAU,6BACVyC,QAASmU,EAFX,UAIE,qBACErU,ICrGG,s6KDsGHuB,IAAI,cACJ9D,UAAU,oCAEZ,sBAAMA,UAAU,kCAAhB,oCAIF,cAAC,GAAD,CAAMD,KAAK,YAAX,8HE5EFoX,I,OAAW,IAAIC,WAAS,CAAEC,IAAK,UAE/BC,GAAiB,IAAIC,cAAW,SAACC,EAAWC,GAEhD,IAAM5F,EAAQhQ,eAAe6V,QAAQ,SAMrC,OALAF,EAAUG,WAAW,CACnBC,QAAS,CACP,eAAgB/F,GAAS,MAGtB4F,EAAQD,MAGXnB,GAAS,IAAIwB,eAAa,CAC9BC,KAAMC,iBAAOT,GAAgBH,IAC7Ba,MAAO,IAAIC,gBACXC,mBAAmB,IAGfC,GAAuB,CAC3B/V,GAAI,KACJC,OAAQ,KACR+V,YAAY,EACZvG,MAAO,KACPpJ,UAAW,MAGP4P,GAAgBC,YACpBxE,+GAGIyE,GAAM,WAAO,IAAD,EACYnQ,IAAMnF,SAAiBkV,IADnC,mBACT5W,EADS,KACDC,EADC,OAEWC,sBAAmC3C,SAAQ,CACpE4C,YAAa,SAACC,GACRA,GAAQA,EAAK4U,QACf/U,EAAUG,EAAK4U,OACX5U,EAAK4U,MAAM1E,MACbhQ,eAAe2W,QAAQ,QAAS7W,EAAK4U,MAAM1E,OAE3ChQ,eAAeC,WAAW,aATlB,mBAETyU,EAFS,KAEArV,EAFA,KAEAA,MAaVyV,EAAWvO,IAAMqE,OAAO8J,GAK9B,GAJAnO,IAAM5E,WAAU,WACdmT,EAASzK,YACR,KAEE3K,EAAO6W,WACV,OACE,eAAC,IAAD,CAAQpY,UAAU,eAAlB,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,6BAAf,SACE,cAAC,IAAD,CAAM6E,KAAK,QAAQkS,IAAI,6BAM/B,IAAM0B,EAAmBvX,EACvB,cAAC,EAAD,CACEvB,QAAO,2EAEP,KAEJ,OACE,eAAC,IAAD,CAAQyC,GAAG,MAAX,UACGqW,EACD,cAAC,WAAD,CAAUvH,OAAQmH,GAAlB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOrL,UAAW,EAAGhN,UAAU,oBAA/B,SACE,cAAC,EAAD,CAAWuB,OAAQA,EAAQC,UAAWA,MAExC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkX,OAAK,EAACC,KAAK,IAAIC,UAAW1R,KACjC,cAAC,IAAD,CACEwR,OAAK,EACLC,KAAK,QACLE,OAAQ,SAAC1R,GAAD,OAAW,cAAC,GAAD,aAAM5F,OAAQA,GAAY4F,OAE/C,cAAC,IAAD,CACEuR,OAAK,EACLC,KAAK,SACLE,OAAQ,SAAC1R,GAAD,OAAW,cAAC,GAAD,2BAAWA,GAAX,IAAkB3F,UAAWA,QAElD,cAAC,IAAD,CACEkX,OAAK,EACLC,KAAK,eACLE,OAAQ,SAAC1R,GAAD,OAAW,cAAC,GAAD,2BAAaA,GAAb,IAAoB5F,OAAQA,QAEjD,cAAC,IAAD,CAAOmX,OAAK,EAACC,KAAK,uBAAuBC,UAAWrM,KACpD,cAAC,IAAD,CACEmM,OAAK,EACLC,KAAK,YACLE,OAAQ,SAAC1R,GAAD,OACN,cAAC,GAAD,2BAAUA,GAAV,IAAiB5F,OAAQA,EAAQC,UAAWA,QAGhD,cAAC,IAAD,CACEkX,OAAK,EACLC,KAAK,UACLE,OAAQ,SAAC1R,GAAD,OACN,cAAC,GAAD,2BAAYA,GAAZ,IAAmB5F,OAAQA,EAAQC,UAAWA,QAGlD,cAAC,IAAD,CAAOoX,UAAWhF,iBAQ9BiF,iBACE,cAAC,iBAAD,CAAgBxC,OAAQA,GAAxB,SACE,cAAC,GAAD,MAEFyC,SAASC,cAAc,W,gCCzJzB,s/B,gCCAA,0kC","file":"static/js/main.615b86e7.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nconst LOG_IN = gql`\r\nmutation LogIn($input:LogInInput){\r\n  logIn(input:$input){\r\n    id\r\n    token\r\n    avatar\r\n    hasWallet\r\n    didRequest\r\n  }\r\n}\r\n`\r\n\r\nexport { LOG_IN }\r\nexport * from './__generated__/LogIn'","import { gql } from \"@apollo/client\";\r\n\r\nconst LOG_OUT = gql`\r\nmutation LogOut{\r\n  logOut{\r\n    id\r\n    token\r\n    avatar\r\n    hasWallet\r\n    didRequest\r\n  }\r\n}\r\n`\r\n\r\nexport { LOG_OUT }\r\nexport * from './__generated__/LogOut'","import { gql } from \"@apollo/client\";\r\n\r\nexport const CONNECT_STRIPE = gql`\r\n  mutation ConnectStripe($input:ConnectStripeInput!){\r\n    connectStripe(input:$input){\r\n    hasWallet\r\n    }\r\n  }\r\n`","import { gql } from \"@apollo/client\";\r\n\r\nexport const DISCONNECT_STRIPE = gql`\r\nmutation DisconnectStripe{\r\n  disconnectStripe{\r\n    hasWallet\r\n  }\r\n}\r\n`\r\nexport { }","import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_BOOKING = gql`\r\nmutation CreateBooking($input:CreateBookingInput!){\r\n  createBooking(input:$input){\r\n    id\r\n  }\r\n}\r\n`","import { gql } from \"@apollo/client\";\r\n\r\nexport * from './__generated__/AuthUrl'\r\nexport const AUTH_URL = gql`\r\n   query AuthUrl{\r\n      authUrl\r\n   }\r\n`\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const USER = gql`\r\nquery User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\r\n  user(id: $id) {\r\n    id\r\n    name\r\n    avatar\r\n    contact\r\n    income\r\n    hasWallet\r\n    bookings(limit: $limit, page: $bookingsPage) {\r\n      total\r\n      result {\r\n        id\r\n        listings {\r\n          id\r\n          title\r\n          image\r\n          address\r\n          price\r\n          numOfGuests\r\n        }\r\n        checkIn\r\n        checkOut\r\n      }\r\n    }\r\n    listings(limit: $limit, page: $listingsPage) {\r\n      total\r\n      result {\r\n        id\r\n        title\r\n        image\r\n        address\r\n        price\r\n        numOfGuests\r\n      }\r\n    }\r\n  }\r\n}\r\n`\r\nexport * from './__generated__/User'","import { gql } from \"@apollo/client\";\r\n\r\nexport const LISTING = gql`\r\nquery Listing($id:ID!,$bookingsPage:Int!,$limit:Int!){\r\n  listing(id: $id) {\r\n    id\r\n    title\r\n    description\r\n    image\r\n    host {\r\n      id\r\n      name\r\n      avatar\r\n      hasWallet\r\n    }\r\n    type\r\n    address\r\n    country\r\n    city\r\n    bookings(limit: $limit, page: $bookingsPage) {\r\n      total\r\n      result {\r\n        id\r\n        tenant{\r\n          id\r\n          name\r\n          avatar\r\n        }\r\n        checkIn\r\n        checkOut\r\n      }\r\n    }\r\n    bookingsIndex\r\n    price\r\n    numOfGuests\r\n  }\r\n}\r\n`\r\nexport * from './__generated__/Listing'","import { gql } from \"@apollo/client\";\r\n\r\nexport const LISTINGS = gql`\r\nquery Listings($location:String,$filter:ListingFilter!, $limit:Int!, $page: Int!){\r\n  listings(location:$location,filter:$filter, limit:$limit, page:$page){\r\n    region\r\n    total\r\n    result{\r\n      id\r\n      title\r\n      price\t\r\n      image\r\n      address\r\n      numOfGuests\r\n    }\r\n  }\r\n}\r\n`\r\n\r\nexport * from './__generated__/Listings'","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport interface ConnectStripeInput {\n  code?: string | null;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code?: string | null;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { Alert } from \"antd\";\r\nimport React from \"react\";\r\n\r\ninterface Props {\r\n  message?: string;\r\n  description?: string;\r\n}\r\n\r\nconst ErrorBanner = ({\r\n  message = \"Uh oh! Something Went Wrong! :(\",\r\n  description = \"Look like something went wrong.Please check your connection and/or try again later\",\r\n}: Props) => {\r\n  return (\r\n    <Alert\r\n      message={message}\r\n      description={description}\r\n      banner\r\n      closable\r\n      type=\"error\"\r\n      className=\"error-banner\"\r\n    />\r\n  );\r\n};\r\n\r\nexport { ErrorBanner };\r\n","import React from \"react\";\r\nimport { Skeleton } from \"antd\";\r\n\r\nconst PageSkeleton = () => {\r\n  const SkeletonParagraph = (\r\n    <Skeleton active paragraph className=\"page-skeleton__paragraph\" />\r\n  );\r\n  return (\r\n    <>\r\n      {SkeletonParagraph}\r\n      {SkeletonParagraph}\r\n      {SkeletonParagraph}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { PageSkeleton };\r\n","import { message, notification } from \"antd\";\r\n\r\nconst PRIMARY_COLOR = \"#1890ff\";\r\n\r\nconst formatPrice = (price: number, round = true): string => {\r\n  const formatedPrice = \"$\" + (round ? Math.round(price / 100) : price / 100);\r\n  return formatedPrice;\r\n};\r\n\r\nconst displaySuccessNotification = (message: string, description?: string) => {\r\n  return notification.success({\r\n    message,\r\n    description,\r\n    placement: \"topLeft\",\r\n    style: {\r\n      marginTop: 50,\r\n    },\r\n  });\r\n};\r\n\r\nconst displayErrorMessage = (error: string) => {\r\n  return message.error(error);\r\n};\r\n\r\nexport {\r\n  displaySuccessNotification,\r\n  displayErrorMessage,\r\n  formatPrice,\r\n  PRIMARY_COLOR,\r\n};\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Avatar, Button, Menu } from \"antd\";\n\nimport { Viewer } from \"../../../../lib/types\";\nimport { LogOut, LOG_OUT } from \"../../../../lib/graphQl/mutations\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"../../../../lib/utils\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Item, SubMenu } = Menu;\n\nexport const MenuItems = ({ viewer, setViewer }: Props) => {\n  const [logOut] = useMutation<LogOut>(LOG_OUT, {\n    onCompleted: (data) => {\n      if (data && data.logOut) {\n        setViewer(data.logOut);\n        sessionStorage.removeItem(\"token\");\n        displaySuccessNotification(\"You've successfully logged out!\");\n      }\n    },\n    onError: (err) => {\n      console.log(err);\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you out. Please try again later!\"\n      );\n    },\n  });\n\n  const handleLogOut = () => {\n    logOut();\n  };\n\n  const subMenuLogin =\n    viewer.id && viewer.avatar ? (\n      <SubMenu title={<Avatar src={viewer.avatar} />}>\n        <Item key=\"/user\">\n          <Link to={`/user/${viewer.id}`}>\n            {/* <Icon type=\"user\" /> */}\n            Profile\n          </Link>\n        </Item>\n        <Item key=\"/logout\">\n          <div onClick={handleLogOut}>\n            {/* <Icon type=\"logout\" /> */}\n            Log out\n          </div>\n        </Item>\n      </SubMenu>\n    ) : (\n      <Item>\n        <Link to=\"/login\">\n          <Button type=\"primary\">Sign In</Button>\n        </Link>\n      </Item>\n    );\n\n  return (\n    <Menu mode=\"horizontal\" selectable={false} className=\"menu\">\n      <Item key=\"/host\">\n        <Link to=\"/host\">\n          {/* <Icon type=\"home\" /> */}\n          Host\n        </Link>\n      </Item>\n      {subMenuLogin}\n    </Menu>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { Input, Layout } from \"antd\";\nimport { displayErrorMessage } from \"../../lib/utils\";\nimport { Viewer } from \"../../lib/types\";\nimport { MenuItems } from \"./components\";\n\nimport logo from \"./assets/tinyhouse-logo.png\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Header } = Layout;\nconst { Search } = Input;\n\nexport const AppHeader = ({ viewer, setViewer }: Props) => {\n  const [search, setSearch] = useState(\"\");\n\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    const { pathname } = location;\n    const pathnameSubStrings = pathname.split(\"/\");\n\n    if (!pathname.includes(\"/listings\")) {\n      setSearch(\"\");\n      return;\n    }\n\n    if (pathname.includes(\"/listings\") && pathnameSubStrings.length === 3) {\n      setSearch(pathnameSubStrings[2]);\n      return;\n    }\n  }, [location]);\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n\n    if (trimmedValue) {\n      history.push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"Please enter a valid search!\");\n    }\n  };\n\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"App logo\" />\n          </Link>\n        </div>\n        <div className=\"app-header__search-input\">\n          <Search\n            placeholder=\"Search 'San Fransisco'\"\n            enterButton\n            value={search}\n            onChange={evt => setSearch(evt.target.value)}\n            onSearch={onSearch}\n          />\n        </div>\n      </div>\n      <div className=\"app-header__menu-section\">\n        <MenuItems viewer={viewer} setViewer={setViewer} />\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { Layout } from \"antd\";\nimport { Viewer } from \"../../lib/types\";\n\nimport logo from \"./assets/tinyhouse-logo.png\";\n\nconst { Header } = Layout;\n\nexport const AppHeaderSkeleton = () => {\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <img src={logo} alt=\"App logo\" />\n        </div>\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Col, Input, Row, Typography } from \"antd\";\r\n\r\nimport torontoImage from \"../../assets/toronto.jpg\";\r\nimport dubaiImage from \"../../assets/dubai.jpg\";\r\nimport losAngelesImage from \"../../assets/los-angeles.jpg\";\r\nimport londonImage from \"../../assets/london.jpg\";\r\n\r\nconst { Title } = Typography;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n  onSearch: (value: string) => void;\r\n}\r\n\r\nexport const HomeHero = ({ onSearch }: Props) => {\r\n  return (\r\n    <div className=\"home-hero\">\r\n      <div className=\"home-hero__search\">\r\n        <Title className=\"home-hero__title\">\r\n          Find a place you'll love to stay at\r\n        </Title>\r\n        <Search\r\n          placeholder=\"Search 'San Fransisco'\"\r\n          size=\"large\"\r\n          enterButton\r\n          className=\"home-hero__search-input\"\r\n          onSearch={onSearch}\r\n        />\r\n      </div>\r\n      <Row gutter={12} className=\"home-hero__cards\">\r\n        <Col xs={12} md={6}>\r\n          <Link to=\"/listings/toronto\">\r\n            <Card cover={<img alt=\"Toronto\" src={torontoImage} />}>\r\n              Toronto\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Link to=\"/listings/dubai\">\r\n            <Card cover={<img alt=\"Dubai\" src={dubaiImage} />}>Dubai</Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to=\"/listings/los%20angeles\">\r\n            <Card cover={<img alt=\"Los Angeles\" src={losAngelesImage} />}>\r\n              Los Angeles\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to=\"/listings/london\">\r\n            <Card cover={<img alt=\"London\" src={londonImage} />}>London</Card>\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Typography } from \"antd\";\r\nimport { UserOutlined } from \"@ant-design/icons\";\r\nimport { formatPrice, PRIMARY_COLOR } from \"../../utils\";\r\n\r\ninterface Props {\r\n  listing: {\r\n    id: string;\r\n    title: string;\r\n    image: string;\r\n    address: string;\r\n    price: number;\r\n    numOfGuests: number;\r\n  };\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingCard = ({ listing }: Props) => {\r\n  const { id, title, image, address, price, numOfGuests } = listing;\r\n\r\n  return (\r\n    <Link to={`/listing/${id}`}>\r\n      <Card\r\n        hoverable\r\n        cover={\r\n          <div\r\n            style={{ backgroundImage: `url(${image})` }}\r\n            className=\"listing-card__cover-img\"\r\n          />\r\n        }\r\n      >\r\n        <div className=\"listing-card__details\">\r\n          <div\r\n            className=\"listing-card__description\"\r\n            style={{ overflow: \"hidden\" }}\r\n          >\r\n            <Title level={4} className=\"listing-card__price\">\r\n              {formatPrice(price)}\r\n              <span>/day</span>\r\n            </Title>\r\n            <Text strong ellipsis className=\"listing-card__title\">\r\n              {title}\r\n            </Text>\r\n            <Text ellipsis className=\"listing-card__address\">\r\n              {address}\r\n            </Text>\r\n          </div>\r\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\r\n            <UserOutlined style={{ marginRight: 8, color: PRIMARY_COLOR }} />\r\n            <Text>{numOfGuests} guests</Text>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { List, Typography } from \"antd\";\r\n\r\nimport { Listings } from \"../../../../lib/graphQl/queries\";\r\nimport { ListingCard } from \"../../../../lib/components/ListingCard\";\r\n\r\ninterface Props {\r\n  title: string;\r\n  listings: Listings[\"listings\"][\"result\"];\r\n}\r\n\r\nconst { Title } = Typography;\r\n\r\nexport const HomeListings = ({ title, listings }: Props) => {\r\n  return (\r\n    <div className=\"home-listings\">\r\n      <Title level={4} className=\"home-listings__title\">\r\n        {title}\r\n      </Title>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          md: 4,\r\n          lg: 4,\r\n          xl: 4,\r\n          xxl: 4,\r\n        }}\r\n        dataSource={listings}\r\n        renderItem={(listing) => (\r\n          <List.Item>\r\n            <ListingCard listing={listing} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Card, List, Skeleton } from \"antd\";\r\n\r\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpg\";\r\n\r\nexport const HomeListingsSkeleton = () => {\r\n  const emptyData = [{}, {}, {}, {}];\r\n\r\n  return (\r\n    <div className=\"home-listings-skeleton\">\r\n      <Skeleton paragraph={{ rows: 0 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          md: 4,\r\n          lg: 4,\r\n          xl: 4,\r\n          xxl: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              style={{ minWidth: 300 }}\r\n              cover={\r\n                <div\r\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n                  className=\"home-listings-skeleton__card-cover-img\"\r\n                ></div>\r\n              }\r\n              loading\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","import React from \"react\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport Paragraph from \"antd/lib/typography/Paragraph\";\r\nimport { Col, Row } from \"antd\";\r\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from \"./components\";\r\nimport cancunImage from \"./assets/cancun.jpg\";\r\nimport mapBackground from \"./assets/map-background.jpg\";\r\nimport sanFransiscoImage from \"./assets/san-fransisco.jpg\";\r\nimport { displayErrorMessage } from \"../../lib/utils\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport {\r\n  Listings,\r\n  LISTINGS,\r\n  ListingsVariables,\r\n} from \"../../lib/graphQl/queries\";\r\nimport { ListingFilter } from \"../../lib/graphQl/globaltypes\";\r\n\r\nconst PAGE_LIMIT = 4;\r\n\r\nconst Home = (props: RouteComponentProps) => {\r\n  const { data, loading, error } = useQuery<Listings, ListingsVariables>(\r\n    LISTINGS,\r\n    {\r\n      variables: {\r\n        filter: ListingFilter.PRICE_HIGH_TO_LOW,\r\n        limit: PAGE_LIMIT,\r\n        page: 1,\r\n      },\r\n    }\r\n  );\r\n  const onSearch = (val: string) => {\r\n    const trimmedVal = val.trim();\r\n    if (trimmedVal) {\r\n      props.history.push(`/listings/${trimmedVal}`);\r\n    } else {\r\n      displayErrorMessage(\"Please enter a valid search\");\r\n    }\r\n  };\r\n\r\n  const renderListingSection = () => {\r\n    if (loading) {\r\n      return <HomeListingsSkeleton />;\r\n    }\r\n    if (data) {\r\n      return (\r\n        <HomeListings\r\n          listings={data.listings.result}\r\n          title=\"Premium Listings\"\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Content\r\n      className=\"home\"\r\n      style={{ backgroundImage: `url(${mapBackground})` }}\r\n    >\r\n      <HomeHero onSearch={onSearch} />\r\n      <div className=\"home__cta-section\">\r\n        <Title level={2} className=\"home__cta-section-title\">\r\n          Your guide for all things rental\r\n        </Title>\r\n        <Paragraph>\r\n          Helping you make the best decisions in renting your last minute\r\n          locations.\r\n        </Paragraph>\r\n        <Link\r\n          to=\"/listings/united%20states\"\r\n          className=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\r\n        >\r\n          Popular listings in the United States\r\n        </Link>\r\n      </div>\r\n      {renderListingSection()}\r\n      <div className=\"home__listings\">\r\n        <Title level={4} className=\"home__listings-title\">\r\n          Listings of any kind\r\n        </Title>\r\n        <Row gutter={12}>\r\n          <Col xs={24} sm={12}>\r\n            <Link to=\"/listings/san%20fransisco\">\r\n              <div className=\"home__listings-img-cover\">\r\n                <img\r\n                  src={sanFransiscoImage}\r\n                  alt=\"San Fransisco\"\r\n                  className=\"home__listings-img\"\r\n                />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col xs={24} sm={12}>\r\n            <Link to=\"/listings/cancún\">\r\n              <div className=\"home__listings-img-cover\">\r\n                <img\r\n                  src={cancunImage}\r\n                  alt=\"Cancún\"\r\n                  className=\"home__listings-img\"\r\n                />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport { Home };\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const HOST_LISTING = gql`\r\nmutation HostListing($input:HostListingInput!){\r\n  hostListing(input:$input){\r\n    id\r\n  }\r\n}\r\n`","import {\r\n  BankOutlined,\r\n  HomeOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { Button, Form, Input, InputNumber, Radio, Upload } from \"antd\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport { UploadChangeParam } from \"antd/lib/upload\";\r\nimport React from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { ListingType } from \"../../lib/graphQl/globaltypes\";\r\nimport { HOST_LISTING } from \"../../lib/graphQl/mutations/HostListing\";\r\nimport {\r\n  HostListing,\r\n  HostListingVariables,\r\n} from \"../../lib/graphQl/mutations/HostListing/__generated__/HostListing\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n  PRIMARY_COLOR,\r\n} from \"../../lib/utils\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nconst { Item } = Form;\r\n\r\nconst Host = ({ viewer }: Props) => {\r\n  const [hostListing, { data, loading }] = useMutation<\r\n    HostListing,\r\n    HostListingVariables\r\n  >(HOST_LISTING, {\r\n    onError: () => {\r\n      displayErrorMessage(\r\n        `Sorry! We weren't able to create your listing.Please try again later`\r\n      );\r\n    },\r\n    onCompleted: () => {\r\n      displaySuccessNotification(`you've successfully created your listing!`);\r\n    },\r\n  });\r\n\r\n  const [imageLoading, setImageLoading] = React.useState(false);\r\n  const [imageBase64Value, setImageBase64Value] = React.useState<string | null>(\r\n    null\r\n  );\r\n\r\n  const handleImageUpload = (info: UploadChangeParam) => {\r\n    const { file } = info;\r\n    if (file.status === \"uploading\") {\r\n      setImageLoading(true);\r\n      return;\r\n    }\r\n    if (file.status === \"done\" && file.originFileObj) {\r\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\r\n        setImageBase64Value(imageBase64Value);\r\n        setImageLoading(false);\r\n      });\r\n\r\n      return;\r\n    }\r\n  };\r\n\r\n  if (!viewer.id || !viewer.hasWallet) {\r\n    return (\r\n      <Content className=\"host-content\">\r\n        <div className=\"host__form-header\">\r\n          <Title level={4} className=\"host__form-title\">\r\n            You'll have to be signed in and connected with Stripe to host a\r\n            listing!\r\n          </Title>\r\n          <Text type=\"secondary\">\r\n            We only allow users who've signed in to our application and have\r\n            connected with Stripe to host new listings. You can sign in at the{\" \"}\r\n            <Link to=\"/login\">/login</Link> page and connect with Stripe shortly\r\n            after.\r\n          </Text>\r\n        </div>\r\n      </Content>\r\n    );\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"host-content\">\r\n        <div className=\"host__form-header\">\r\n          <Title level={3} className=\"host__form-title\">\r\n            Please Wait!\r\n          </Title>\r\n          <Text type=\"secondary\">We're createing your listing now.</Text>\r\n        </div>\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (data && data.hostListing) {\r\n    return <Redirect to={`/listing/${data.hostListing.id}`} />;\r\n  }\r\n\r\n  const onFinish = (values: any) => {\r\n    const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.zipcode}`;\r\n\r\n    const input = {\r\n      ...values,\r\n      address: fullAddress,\r\n      image: imageBase64Value,\r\n      price: values.price * 100,\r\n    };\r\n    delete input.city;\r\n    delete input.state;\r\n    delete input.zipcode;\r\n    hostListing({\r\n      variables: {\r\n        input,\r\n      },\r\n    });\r\n    setImageBase64Value(null);\r\n  };\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    displayErrorMessage(\"Please complete all required form fields!\");\r\n  };\r\n\r\n  return (\r\n    <Content className=\"host-content\">\r\n      <Form\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        onSubmitCapture={(e) => e.preventDefault()}\r\n      >\r\n        <div className=\"host__form-header\">\r\n          <Title level={3} className=\"host__form-title\">\r\n            Hi! Let's get started listing your place.\r\n          </Title>\r\n          <Text type=\"secondary\">\r\n            In this form, we'll collect some basic and additional information\r\n            about your listing.\r\n          </Text>\r\n        </div>\r\n\r\n        <Item\r\n          label=\"Home Type\"\r\n          name=\"type\"\r\n          rules={[{ required: true, message: \"Please select a home type!\" }]}\r\n        >\r\n          <Radio.Group>\r\n            <Radio.Button value={ListingType.APARTMENT}>\r\n              <BankOutlined style={{ color: PRIMARY_COLOR }} />{\" \"}\r\n              <span>Apartment</span>\r\n            </Radio.Button>\r\n            <Radio.Button value={ListingType.HOUSE}>\r\n              <HomeOutlined style={{ color: PRIMARY_COLOR }} />{\" \"}\r\n              <span>House</span>\r\n            </Radio.Button>\r\n          </Radio.Group>\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Max # of Guests\"\r\n          name=\"numOfGuests\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a max number of guests!\",\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber min={1} placeholder=\"4\" />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Title\"\r\n          name=\"title\"\r\n          extra=\"Max character count of 45\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a title for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input\r\n            maxLength={45}\r\n            placeholder=\"The iconic and luxurious Bel-Air mansion\"\r\n          />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Description of listing\"\r\n          name=\"description\"\r\n          extra=\"Max character count of 400\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a description for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            rows={3}\r\n            maxLength={400}\r\n            placeholder=\"Modern, clean, and iconic home of the Fresh Prince. Situated in the heart of Bel-Air, Los Angeles.\"\r\n          />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Address\"\r\n          name=\"address\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a address for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"251 North Bristol Avenue\" />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"City/Town\"\r\n          name=\"city\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a city (or region) for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"Los Angeles\" />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"State/Province\"\r\n          name=\"state\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a state (or province) for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"California\" />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Zip/Postal Code\"\r\n          name=\"zipcode\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a zip (or postal) code for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"Please enter a zip code for your listing!\" />\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Image\"\r\n          name=\"image\"\r\n          extra=\"Images have to be under 1MB in size and of type JPG or PNG\"\r\n          rules={[\r\n            { required: true, message: \"Please provide at least one image\" },\r\n          ]}\r\n        >\r\n          <div className=\"host__form-image-upload\">\r\n            <Upload\r\n              name=\"image\"\r\n              listType=\"picture-card\"\r\n              showUploadList={false}\r\n              beforeUpload={beforeImageUpload}\r\n              onChange={handleImageUpload}\r\n              action=\"/img\"\r\n            >\r\n              {imageBase64Value ? (\r\n                <img src={imageBase64Value} alt=\"Listing\" />\r\n              ) : (\r\n                <div>\r\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\r\n                  <div className=\"ant-upload-text\">Upload</div>\r\n                </div>\r\n              )}\r\n            </Upload>\r\n          </div>\r\n        </Item>\r\n\r\n        <Item\r\n          label=\"Price\"\r\n          name=\"price\"\r\n          extra=\"All prices in $USD/day\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please enter a price for your listing!\",\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber min={0} placeholder=\"120\" />\r\n        </Item>\r\n\r\n        <Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Item>\r\n      </Form>\r\n    </Content>\r\n  );\r\n};\r\n\r\nconst beforeImageUpload = (file: File) => {\r\n  const fileIsValidImage =\r\n    file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  const fileIsValidSize = file.size / 1024 / 1024 < 1;\r\n\r\n  if (!fileIsValidImage) {\r\n    displayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\r\n    return false;\r\n  }\r\n\r\n  if (!fileIsValidSize) {\r\n    displayErrorMessage(\r\n      \"You're only able to upload valid image files of under 1MB in size!\"\r\n    );\r\n    return false;\r\n  }\r\n\r\n  return fileIsValidImage && fileIsValidSize;\r\n};\r\n\r\nconst getBase64Value = (\r\n  img: File | Blob,\r\n  callback: (imageBase64Value: string) => void\r\n) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(img);\r\n  reader.onload = () => {\r\n    callback(reader.result as string);\r\n  };\r\n};\r\n\r\nexport { Host };\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nimport { ListingFilter } from \"../../../../lib/graphQl/globaltypes\";\r\n\r\ninterface Props {\r\n  filter: ListingFilter;\r\n  setFilter: (filter: ListingFilter) => void;\r\n}\r\n\r\nconst { Option } = Select;\r\n\r\nexport const ListingsFilters = ({ filter, setFilter }: Props) => {\r\n  return (\r\n    <div className=\"listings-filters\">\r\n      <span>Filter By</span>\r\n      <Select\r\n        value={filter}\r\n        onChange={(filter: ListingFilter) => setFilter(filter)}\r\n      >\r\n        <Option value={ListingFilter.PRICE_LOW_TO_HIGH}>\r\n          Price: Low to High\r\n        </Option>\r\n        <Option value={ListingFilter.PRICE_HIGH_TO_LOW}>\r\n          Price: High to Low\r\n        </Option>\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Pagination } from \"antd\";\r\n\r\ninterface Props {\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n  setPage: (page: number) => void;\r\n}\r\n\r\nexport const ListingsPagination = ({ total, page, limit, setPage }: Props) => {\r\n  return (\r\n    <Pagination\r\n      current={page}\r\n      total={total}\r\n      defaultPageSize={limit}\r\n      hideOnSinglePage\r\n      showLessItems\r\n      onChange={(page: number) => setPage(page)}\r\n      className=\"listings-pagination\"\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Card, List, Skeleton } from \"antd\";\r\n\r\nimport listingLoadingCardCover from \"../assets/listing-loading-card-cover.jpg\";\r\n\r\nexport const ListingsSkeleton = () => {\r\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}];\r\n\r\n  return (\r\n    <div>\r\n      <Skeleton paragraph={{ rows: 1 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          md: 4,\r\n          lg: 4,\r\n          xl: 4,\r\n          xxl: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              cover={\r\n                <div\r\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n                  className=\"listings-skeleton__card-cover-img\"\r\n                ></div>\r\n              }\r\n              loading\r\n              className=\"listings-skeleton__card\"\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { useQuery } from \"@apollo/client\";\r\nimport { Affix, List } from \"antd\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport Paragraph from \"antd/lib/typography/Paragraph\";\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport Title from \"antd/lib/typography/Title\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport { ErrorBanner, PageSkeleton } from \"../../lib/components\";\r\nimport { ListingCard } from \"../../lib/components/ListingCard\";\r\nimport { ListingFilter } from \"../../lib/graphQl/globaltypes\";\r\nimport {\r\n  Listings as ListingsData,\r\n  ListingsVariables,\r\n  LISTINGS,\r\n} from \"../../lib/graphQl/queries\";\r\nimport {\r\n  ListingsFilters,\r\n  ListingsPagination,\r\n  ListingsSkeleton,\r\n} from \"./Components\";\r\n\r\nconst PAGE_LIMIT = 8;\r\n\r\ninterface MatchParams {\r\n  location?: string;\r\n}\r\n\r\nconst Listings = (props: RouteComponentProps<MatchParams>) => {\r\n  const [page, setPage] = React.useState(1);\r\n\r\n  const [filter, setFilter] = React.useState<ListingFilter>(\r\n    ListingFilter.PRICE_LOW_TO_HIGH\r\n  );\r\n  const locationRef = React.useRef(props.match.params.location);\r\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\r\n    LISTINGS,\r\n    {\r\n      skip: locationRef.current !== props.match.params.location && page !== 1,\r\n      variables: {\r\n        location: props.match.params.location || null,\r\n        filter,\r\n        limit: PAGE_LIMIT,\r\n        page,\r\n      },\r\n    }\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    setPage(1);\r\n  }, [props.match.params.location]);\r\n\r\n  const listings = data ? data.listings : null;\r\n  const listingsRegion = listings?.region || null;\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <ErrorBanner message=\"We either couldn't find anything matching your search or have encountered an error.If you're searching for unique location, try searching again with more common keywords\" />\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  const listingSectionElement =\r\n    listings && listings.result.length ? (\r\n      <div>\r\n        <Affix offsetTop={64}>\r\n          <ListingsPagination\r\n            total={listings.total || 0}\r\n            page={page}\r\n            limit={PAGE_LIMIT}\r\n            setPage={setPage}\r\n          />\r\n          <ListingsFilters filter={filter} setFilter={setFilter} />\r\n        </Affix>\r\n        <List\r\n          dataSource={listings.result}\r\n          grid={{\r\n            gutter: 8,\r\n            xs: 1,\r\n            sm: 2,\r\n            md: 4,\r\n            lg: 4,\r\n            xl: 4,\r\n            xxl: 4,\r\n          }}\r\n          renderItem={(listing) => (\r\n            <List.Item>\r\n              <ListingCard listing={listing} />\r\n            </List.Item>\r\n          )}\r\n        ></List>\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <Paragraph>\r\n          It appears that no listings have yet been created for\r\n          {<Text mark>\"{listingsRegion}\" </Text>}\r\n        </Paragraph>\r\n        <Paragraph>\r\n          Be the first person to create a{\" \"}\r\n          <Link to=\"/host\">listing in this area</Link>\r\n        </Paragraph>\r\n      </div>\r\n    );\r\n\r\n  const listingsRegionElement = listingsRegion ? (\r\n    <Title className=\"listings__title\">Result for \"{listingsRegion}\"</Title>\r\n  ) : null;\r\n\r\n  return (\r\n    <Content className=\"listings\">\r\n      {listingsRegionElement}\r\n      {listingSectionElement}\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport { Listings };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Divider, Tag, Typography } from \"antd\";\r\n\r\nimport { EnvironmentOutlined } from \"@ant-design/icons\";\r\nimport { PRIMARY_COLOR } from \"../../../../lib/utils\";\r\nimport { Listing } from \"../../../../lib/graphQl/queries\";\r\n\r\ninterface Props {\r\n  listing: Listing[\"listing\"];\r\n}\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nexport const ListingDetails = ({ listing }: Props) => {\r\n  if (!listing) {\r\n    return null;\r\n  }\r\n  const {\r\n    title,\r\n    description,\r\n    image,\r\n    type,\r\n    address,\r\n    city,\r\n    numOfGuests,\r\n    host,\r\n  } = listing;\r\n\r\n  return (\r\n    <div className=\"listing-details\">\r\n      <div\r\n        style={{ backgroundImage: `url(${image})` }}\r\n        className=\"listing-details__image\"\r\n      />\r\n\r\n      <div className=\"listing-details__information\">\r\n        <Paragraph\r\n          type=\"secondary\"\r\n          ellipsis\r\n          className=\"listing-details__city-address\"\r\n        >\r\n          <Link to={`/listings/${city}`}>\r\n            <EnvironmentOutlined style={{ color: PRIMARY_COLOR }} /> {city}\r\n          </Link>\r\n          <Divider type=\"vertical\" />\r\n          {address}\r\n        </Paragraph>\r\n        <Title level={3} className=\"listing-details__title\">\r\n          {title}\r\n        </Title>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className=\"listing-details__section\">\r\n        <Link to={`/user/${host.id}`}>\r\n          <Avatar src={host.avatar} size={64} />\r\n          <Title level={2} className=\"listing-details__host-name\">\r\n            {host.name}\r\n          </Title>\r\n        </Link>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className=\"listing-details__section\">\r\n        <Title level={4}>About this space</Title>\r\n        <div className=\"listing-details__about-items\">\r\n          <Tag color=\"magenta\">{type}</Tag>\r\n          <Tag color=\"magenta\">{numOfGuests} Guests</Tag>\r\n        </div>\r\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n          {description}\r\n        </Paragraph>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Divider, List, Typography } from \"antd\";\r\nimport {\r\n  Listing,\r\n  Listing_listing_bookings,\r\n} from \"../../../../lib/graphQl/queries\";\r\n\r\ninterface Props {\r\n  listingBookings: Listing_listing_bookings;\r\n  bookingsPage: number;\r\n  limit: number;\r\n  setBookingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingBookings = ({\r\n  listingBookings,\r\n  bookingsPage,\r\n  limit,\r\n  setBookingsPage,\r\n}: Props) => {\r\n  const total = listingBookings ? listingBookings.total : null;\r\n  const result = listingBookings ? listingBookings.result : null;\r\n\r\n  const listingBookingsList = listingBookings ? (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 3,\r\n      }}\r\n      dataSource={result ? result : undefined}\r\n      locale={{ emptyText: \"No bookings have been made yet!\" }}\r\n      pagination={{\r\n        current: bookingsPage,\r\n        total: total ? total : undefined,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setBookingsPage(page),\r\n      }}\r\n      renderItem={(listingBooking) => {\r\n        const bookingHistory = (\r\n          <div className=\"listing-bookings__history\">\r\n            <div>\r\n              Check in: <Text strong>{listingBooking.checkIn}</Text>\r\n            </div>\r\n            <div>\r\n              Check out: <Text strong>{listingBooking.checkOut}</Text>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n        return (\r\n          <>\r\n            <List.Item className=\"listing-bookings__item\">\r\n              <h1>check in</h1>\r\n              {bookingHistory}\r\n              <Link to={`/user/${listingBooking.tenant.id}`}>\r\n                <Avatar\r\n                  src={listingBooking.tenant.avatar}\r\n                  size={64}\r\n                  shape=\"square\"\r\n                />\r\n              </Link>\r\n            </List.Item>\r\n          </>\r\n        );\r\n      }}\r\n    />\r\n  ) : null;\r\n\r\n  const listingBookingsElement = listingBookingsList ? (\r\n    <div className=\"listing-bookings\">\r\n      <Divider />\r\n      <div className=\"listing-bookings__section\">\r\n        <Title level={4}>Bookings</Title>\r\n      </div>\r\n      {listingBookingsList}\r\n    </div>\r\n  ) : null;\r\n\r\n  return listingBookingsElement;\r\n};\r\n","import React from \"react\";\r\nimport { Button, Card, DatePicker, Divider, Tooltip, Typography } from \"antd\";\r\nimport moment, { Moment } from \"moment\";\r\n\r\nimport { displayErrorMessage, formatPrice } from \"../../../../lib/utils\";\r\nimport { Viewer } from \"../../../../lib/types\";\r\nimport { BookingsIndex } from \"./types\";\r\nimport {\r\n  Listing as ListingData,\r\n  Listing_listing,\r\n  Listing_listing_host,\r\n} from \"../../../../lib/graphQl/queries\";\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  host: Listing_listing_host;\r\n  price: number;\r\n  bookingsIndex: string;\r\n  checkInDate: Moment | null;\r\n  checkOutDate: Moment | null;\r\n  setCheckInDate: (checkInDate: Moment | null) => void;\r\n  setCheckOutDate: (checkOutDate: Moment | null) => void;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n}\r\n\r\nexport const ListingCreateBooking = ({\r\n  viewer,\r\n  host,\r\n  price,\r\n  bookingsIndex,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setCheckInDate,\r\n  setCheckOutDate,\r\n  setModalVisible,\r\n}: Props) => {\r\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\r\n\r\n  const dateIsBooked = (currentDate: Moment) => {\r\n    const year = moment(currentDate).year();\r\n    const month = moment(currentDate).month();\r\n    const day = moment(currentDate).date();\r\n\r\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\r\n      return Boolean(bookingsIndexJSON[year][month][day]);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const disabledDate = (currentDate?: Moment) => {\r\n    if (currentDate) {\r\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf(\"day\"));\r\n      const dateIsMoreThanThreeMonthsAhead = moment(currentDate).isAfter(\r\n        moment().endOf(\"day\").add(90, \"days\")\r\n      );\r\n\r\n      return (\r\n        dateIsBeforeEndOfDay ||\r\n        dateIsMoreThanThreeMonthsAhead ||\r\n        dateIsBooked(currentDate)\r\n      );\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\r\n    if (checkInDate && selectedCheckOutDate) {\r\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, \"days\")) {\r\n        return displayErrorMessage(\r\n          `You can't book date of check out to be prior to check in!`\r\n        );\r\n      }\r\n\r\n      let dateCursor = checkInDate;\r\n\r\n      while (moment(dateCursor).isBefore(selectedCheckOutDate, \"days\")) {\r\n        dateCursor = moment(dateCursor).add(1, \"days\");\r\n\r\n        const year = moment(dateCursor).year();\r\n        const month = moment(dateCursor).month();\r\n        const day = moment(dateCursor).date();\r\n\r\n        if (\r\n          bookingsIndexJSON[year] &&\r\n          bookingsIndexJSON[year][month] &&\r\n          bookingsIndexJSON[year][month][day]\r\n        ) {\r\n          return displayErrorMessage(\r\n            \"You can't book a period of time that overlaps existing bookings. Please try again!\"\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    setCheckOutDate(selectedCheckOutDate);\r\n  };\r\n\r\n  const viewerIsHost = viewer.id === host.id;\r\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\r\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\r\n  const buttonDisabled = checkOutInputDisabled || !checkInDate || !checkOutDate;\r\n\r\n  let buttonMessage = \"You won't be charged yet\";\r\n  if (!viewer.id) {\r\n    buttonMessage = \"You have to be signed in to book a listing!\";\r\n  } else if (viewerIsHost) {\r\n    buttonMessage = \"You can't book your own listing!\";\r\n  } else if (!host.hasWallet) {\r\n    buttonMessage =\r\n      \"The host has disconnected from Stripe and thus won't be able to receive payments!\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"listing-booking\">\r\n      <Card className=\"listing-booking__card\">\r\n        <div>\r\n          <Paragraph>\r\n            <Title level={2} className=\"listing-booking__card-title\">\r\n              {formatPrice(price)}\r\n              <span>/day</span>\r\n            </Title>\r\n          </Paragraph>\r\n          <Divider />\r\n          <div className=\"listing-booking__card-date-picker\">\r\n            <Paragraph strong>Check In</Paragraph>\r\n            <DatePicker\r\n              value={checkInDate ? checkInDate : undefined}\r\n              format={\"YYYY/MM/DD\"}\r\n              showToday={false}\r\n              disabled={checkInInputDisabled}\r\n              disabledDate={disabledDate}\r\n              onChange={(dateValue) => setCheckInDate(dateValue)}\r\n              onOpenChange={() => setCheckOutDate(null)}\r\n              renderExtraFooter={() => {\r\n                return (\r\n                  <div>\r\n                    <Text type=\"secondary\" className=\"ant-calendar-footer-text\">\r\n                      You can only book a listing within 90 days from today.\r\n                    </Text>\r\n                  </div>\r\n                );\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"listing-booking__card-date-picker\">\r\n            <Paragraph strong>Check Out</Paragraph>\r\n            <DatePicker\r\n              value={checkOutDate ? checkOutDate : undefined}\r\n              format={\"YYYY/MM/DD\"}\r\n              showToday={false}\r\n              disabled={checkOutInputDisabled}\r\n              disabledDate={disabledDate}\r\n              onChange={(dateValue) => verifyAndSetCheckOutDate(dateValue)}\r\n              dateRender={(current) => {\r\n                if (\r\n                  moment(current).isSame(\r\n                    checkInDate ? checkInDate : undefined,\r\n                    \"day\"\r\n                  )\r\n                ) {\r\n                  return (\r\n                    <Tooltip title=\"Check in date\">\r\n                      <div className=\"ant-calendar-date ant-calendar-date__check-in\">\r\n                        {current.date()}\r\n                      </div>\r\n                    </Tooltip>\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <div className=\"ant-calendar-date\">{current.date()}</div>\r\n                  );\r\n                }\r\n              }}\r\n              renderExtraFooter={() => {\r\n                return (\r\n                  <div>\r\n                    <Text type=\"secondary\" className=\"ant-calendar-footer-text\">\r\n                      Check-out cannot be before check-in.\r\n                    </Text>\r\n                  </div>\r\n                );\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <Button\r\n          disabled={buttonDisabled}\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          className=\"listing-booking__card-cta\"\r\n          onClick={() => setModalVisible(true)}\r\n        >\r\n          Request to book!\r\n        </Button>\r\n        <Text type=\"secondary\" mark>\r\n          {buttonMessage}\r\n        </Text>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\n// import {\r\n//   CardElement,\r\n//   injectStripe,\r\n//   ReactStripeElements,\r\n// } from \"react-stripe-elements\";\r\nimport { Button, Divider, Modal, Typography } from \"antd\";\r\nimport moment, { Moment } from \"moment\";\r\n// import { CREATE_BOOKING } from \"../../../../lib/graphql/mutations\";\r\n// import {\r\n//   CreateBooking as CreateBookingData,\r\n//   CreateBookingVariables,\r\n// } from \"../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking\";\r\nimport {\r\n  formatPrice,\r\n  displaySuccessNotification,\r\n  displayErrorMessage,\r\n} from \"../../../../lib/utils\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport { KeyOutlined } from \"@ant-design/icons\";\r\nimport { Viewer } from \"../../../../lib/types\";\r\nimport { PaymentMethod, StripeError, Token } from \"@stripe/stripe-js\";\r\nimport {\r\n  CreateBooking,\r\n  CreateBookingVariables,\r\n} from \"../../../../lib/graphQl/mutations/CreateBooking/__generated__/CreateBooking\";\r\nimport { CREATE_BOOKING } from \"../../../../lib/graphQl/mutations\";\r\n\r\ninterface Props {\r\n  id: string;\r\n  price: number;\r\n  modalVisible: boolean;\r\n  checkInDate: Moment;\r\n  checkOutDate: Moment;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n  clearBookingData: () => void;\r\n  handleListingRefetch: () => Promise<void>;\r\n}\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\ninterface CheckOutFormProps {\r\n  onSuccess: (token: Token) => void;\r\n  onError: (error: StripeError) => void;\r\n  loading?: boolean;\r\n}\r\nconst CheckOutForm = ({\r\n  onError,\r\n  onSuccess,\r\n  loading = false,\r\n}: CheckOutFormProps) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    // We don't want to let default form submission happen here,\r\n    // which would refresh the page.\r\n    event.preventDefault();\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not yet loaded.\r\n      // Make sure to disable form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n    const cardElement = elements.getElement(CardElement);\r\n    if (!cardElement) {\r\n      return;\r\n    }\r\n\r\n    const result = await stripe.createToken(cardElement);\r\n\r\n    if (result.error) {\r\n      onError(result.error);\r\n    } else {\r\n      if (result.token) {\r\n        onSuccess(result.token);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <CardElement\r\n        className=\"listing-booking-modal__stripe-card\"\r\n        options={{ hidePostalCode: true }}\r\n      />\r\n\r\n      <Button\r\n        size=\"large\"\r\n        htmlType=\"submit\"\r\n        type=\"primary\"\r\n        className=\"listing-booking-modal__cta\"\r\n        loading={loading}\r\n      >\r\n        Book\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const ListingCreateBookingModal = ({\r\n  id,\r\n  price,\r\n  modalVisible,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setModalVisible,\r\n  clearBookingData,\r\n  handleListingRefetch,\r\n}: Props) => {\r\n  const [createBooking, { loading }] = useMutation<\r\n    CreateBooking,\r\n    CreateBookingVariables\r\n  >(CREATE_BOOKING, {\r\n    onCompleted: () => {\r\n      clearBookingData();\r\n      displaySuccessNotification(\r\n        \"You've successfully booked the listing!\",\r\n        \"Booking history can always be found in your User page.\"\r\n      );\r\n      handleListingRefetch();\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage(\r\n        \"Sorry! We weren't able to successfully book the listing. Please try again later!\"\r\n      );\r\n    },\r\n  });\r\n\r\n  const daysBooked = checkOutDate.diff(checkInDate, \"days\") + 1;\r\n  const listingPrice = price * daysBooked;\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      centered\r\n      footer={null}\r\n      onCancel={() => setModalVisible(false)}\r\n    >\r\n      <div className=\"listing-booking-modal\">\r\n        <div className=\"listing-booking-modal__intro\">\r\n          <Title className=\"listing-boooking-modal__intro-title\">\r\n            <KeyOutlined />\r\n          </Title>\r\n          <Title level={3} className=\"listing-boooking-modal__intro-title\">\r\n            Book your trip\r\n          </Title>\r\n          <Paragraph>\r\n            Enter your payment information to book the listing from the dates\r\n            between{\" \"}\r\n            <Text mark strong>\r\n              {moment(checkInDate).format(\"MMMM Do YYYY\")}\r\n            </Text>{\" \"}\r\n            and{\" \"}\r\n            <Text mark strong>\r\n              {moment(checkOutDate).format(\"MMMM Do YYYY\")}\r\n            </Text>\r\n            , inclusive.\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className=\"listing-booking-modal__charge-summary\">\r\n          <Paragraph>\r\n            {formatPrice(price, false)} * {daysBooked} days ={\" \"}\r\n            <Text strong>{formatPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n          <Paragraph className=\"listing-booking-modal__charge-summary-total\">\r\n            Total = <Text mark>{formatPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className=\"listing-booking-modal__stripe-card-section\">\r\n          <CheckOutForm\r\n            loading={loading}\r\n            onError={(err) => {\r\n              if (err.message) {\r\n                displayErrorMessage(err.message);\r\n              } else {\r\n                displayErrorMessage(\r\n                  \"Sorry! We weren't able to connect with Stripe.\"\r\n                );\r\n              }\r\n            }}\r\n            onSuccess={(token) => {\r\n              createBooking({\r\n                variables: {\r\n                  input: {\r\n                    id,\r\n                    source: token.id,\r\n                    checkIn: moment(checkInDate).format(\"YYYY-MM-DD\"),\r\n                    checkOut: moment(checkOutDate).format(\"YYYY-MM-DD\"),\r\n                  },\r\n                },\r\n              });\r\n              handleListingRefetch().then(() => {\r\n                setModalVisible(false);\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport {\r\n  Listing as ListingData,\r\n  LISTING,\r\n  ListingVariables,\r\n} from \"../../lib/graphQl/queries\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { ErrorBanner, PageSkeleton } from \"../../lib/components\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport { ListingDetails } from \"./components/ListingDetails\";\r\nimport { Col, Row } from \"antd\";\r\nimport { ListingBookings } from \"./components/ListingBookings\";\r\nimport { ListingCreateBooking } from \"./components/ListingCreateBooking\";\r\nimport { Moment } from \"moment\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { ElementsConsumer } from \"@stripe/react-stripe-js\";\r\nimport { ListingCreateBookingModal } from \"./components/ListingCreateBookingModal\";\r\n\r\ninterface MatchParams {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\nconst PAGE_LIMIT = 4;\r\n\r\nconst Listing = ({\r\n  match,\r\n  viewer,\r\n}: Props & RouteComponentProps<MatchParams>) => {\r\n  const [bookingPage, setBookingPage] = React.useState(1);\r\n  const [isModalVisible, setIsModalVisible] = React.useState(false);\r\n  const [checkInDate, setcheckInDate] = React.useState<Moment | null>(null);\r\n  const [checkOutDate, setcheckOutDate] = React.useState<Moment | null>(null);\r\n  const { data, loading, error, refetch } = useQuery<\r\n    ListingData,\r\n    ListingVariables\r\n  >(LISTING, {\r\n    variables: {\r\n      bookingsPage: 1,\r\n      id: match.params.id,\r\n      limit: PAGE_LIMIT,\r\n    },\r\n  });\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"listing\">\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className=\"listing\">\r\n        <ErrorBanner description=\"This listing may not exist or we've encounterd an error.Please try again soon!\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  const listing = data ? data.listing : null;\r\n  const listingBooking = listing ? listing.bookings : null;\r\n  const listingBookingElement = listingBooking ? (\r\n    <ListingBookings\r\n      bookingsPage={bookingPage}\r\n      limit={PAGE_LIMIT}\r\n      listingBookings={listingBooking}\r\n      setBookingsPage={setBookingPage}\r\n    />\r\n  ) : null;\r\n\r\n  const listingCreateBookingElement = listing ? (\r\n    <ListingCreateBooking\r\n      bookingsIndex={listing.bookingsIndex || \"{}\"}\r\n      checkInDate={checkInDate}\r\n      checkOutDate={checkOutDate}\r\n      host={listing.host}\r\n      price={listing.price}\r\n      setCheckInDate={setcheckInDate}\r\n      setCheckOutDate={setcheckOutDate}\r\n      setModalVisible={setIsModalVisible}\r\n      viewer={viewer}\r\n    />\r\n  ) : null;\r\n\r\n  return (\r\n    <Content className=\"listing\">\r\n      {listing?.price && checkInDate && checkOutDate && (\r\n        <ListingCreateBookingModal\r\n          checkInDate={checkInDate}\r\n          checkOutDate={checkOutDate}\r\n          clearBookingData={() => {}}\r\n          handleListingRefetch={async () => {\r\n            await refetch();\r\n          }}\r\n          modalVisible={isModalVisible}\r\n          price={listing.price}\r\n          setModalVisible={setIsModalVisible}\r\n          id={listing.id}\r\n        />\r\n      )}\r\n\r\n      <Row gutter={24} justify=\"space-between\">\r\n        <Col xs={24} lg={14}>\r\n          <ListingDetails listing={listing} />\r\n          {listingBookingElement}\r\n        </Col>\r\n        <Col xs={24} lg={10}>\r\n          {listingCreateBookingElement}\r\n        </Col>\r\n      </Row>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport { Listing };\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return <h1>NotFound</h1>;\r\n};\r\n\r\nexport { NotFound };\r\n","import { useMutation } from \"@apollo/client\";\r\nimport userEvent from \"@testing-library/user-event\";\r\nimport { Button, Card, Divider, Tag } from \"antd\";\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\nimport Paragraph from \"antd/lib/typography/Paragraph\";\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport Title from \"antd/lib/typography/Title\";\r\n\r\nimport React from \"react\";\r\nimport { ErrorBanner } from \"../../../../lib/components\";\r\nimport { DISCONNECT_STRIPE } from \"../../../../lib/graphQl/mutations\";\r\nimport { DisconnectStripe } from \"../../../../lib/graphQl/mutations/DisconnectStripe/__generated__/DisconnectStripe\";\r\nimport { User } from \"../../../../lib/graphQl/queries\";\r\nimport { Viewer } from \"../../../../lib/types\";\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n  formatPrice,\r\n} from \"../../../../lib/utils\";\r\n\r\ninterface Props {\r\n  user: User[\"user\"];\r\n  isOwner: boolean;\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n  handleUserRefecth: () => void;\r\n}\r\n\r\nconst stripeUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_STRIPE_CLIENT_ID}&scope=read_write&redirect_uri=http://localhost:3000/stripe`;\r\n\r\nconst UserProfile = (props: Props) => {\r\n  const [disconnectStripe, { data, loading }] = useMutation<DisconnectStripe>(\r\n    DISCONNECT_STRIPE,\r\n    {\r\n      onCompleted: (data) => {\r\n        if (data && data.disconnectStripe) {\r\n          props.setViewer({ ...props.viewer, hasWallet: null });\r\n          displaySuccessNotification(\r\n            \"You've successfully disconnected from Stripe\",\r\n            \"You'll have to reconnect with stripe to continue to create listing.\"\r\n          );\r\n          props.handleUserRefecth();\r\n        }\r\n      },\r\n      onError: () => {\r\n        displayErrorMessage(\r\n          \"Sorry! We weren't able to disconnect from Stripe. Please try again later!\"\r\n        );\r\n      },\r\n    }\r\n  );\r\n\r\n  const redirectToStripe = () => {\r\n    window.location.href = stripeUrl;\r\n  };\r\n\r\n  const stripeError = new URL(window.location.href).searchParams.get(\r\n    \"stripe_error\"\r\n  );\r\n  const stripeErrorElement = stripeError ? (\r\n    <ErrorBanner message=\"We had issue connecting with Stripe. Please try again later\" />\r\n  ) : null;\r\n\r\n  const AdditionDetails = props.user.hasWallet ? (\r\n    <>\r\n      <Paragraph>\r\n        <Tag color=\"green\">Stripe Registered</Tag>\r\n      </Paragraph>\r\n      <Paragraph>\r\n        Income Earned: <Text strong>{props.user.income}</Text>\r\n      </Paragraph>\r\n      <Button\r\n        type=\"primary\"\r\n        className=\"user-profile__details-cta\"\r\n        onClick={() => disconnectStripe()}\r\n      >\r\n        Disconnect Stripe\r\n      </Button>\r\n      <Paragraph type=\"secondary\">\r\n        By disconnecting, you won't be able to receive{\" \"}\r\n        <Text strong>any further payments</Text>. This will prevent users from\r\n        booking listings that you might have already created.\r\n      </Paragraph>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <Paragraph>\r\n        Interested in becoming a TinyHouse host? Register with your stripe\r\n        account!\r\n      </Paragraph>\r\n      <Paragraph>\r\n        Income Earned: <Text strong>{formatPrice(props.user.income || 0)}</Text>\r\n      </Paragraph>\r\n      <Button\r\n        type=\"primary\"\r\n        className=\"user-profile__details-cta\"\r\n        onClick={redirectToStripe}\r\n      >\r\n        Connect With Stripe\r\n      </Button>\r\n      <Paragraph type=\"secondary\">\r\n        TinyHouse uses{\" \"}\r\n        <a\r\n          href=\"https://stripe.com/en-US/connect\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Stripe\r\n        </a>\r\n        to help transfer your earnings in a secure and truster manner.\r\n      </Paragraph>\r\n    </>\r\n  );\r\n\r\n  const AdditionalInformation = props.isOwner ? (\r\n    <>\r\n      <Divider />\r\n      <Title level={4}>Addition Details</Title>\r\n      {AdditionDetails}\r\n    </>\r\n  ) : null;\r\n  return (\r\n    <div className=\"user-profile\">\r\n      {stripeErrorElement}\r\n      <Card className=\"user-profile__card\">\r\n        <div className=\"user-profile__avatar\">\r\n          <Avatar size={100} src={props.user.avatar} />\r\n        </div>\r\n        <Divider />\r\n        <div className=\"user-profile__details\">\r\n          <Title level={4}>Details</Title>\r\n          <Paragraph>\r\n            Name: <Text strong>{props.user.name} </Text>\r\n          </Paragraph>\r\n          <Paragraph>\r\n            Contact: <Text strong>{props.user.contact} </Text>\r\n          </Paragraph>\r\n          {AdditionalInformation}\r\n        </div>\r\n      </Card>\r\n      {}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { UserProfile };\r\n","import { List } from \"antd\";\r\nimport Paragraph from \"antd/lib/typography/Paragraph\";\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport { ListingCard } from \"../../../../lib/components/ListingCard\";\r\nimport { User } from \"../../../../lib/graphQl/queries\";\r\n\r\ninterface Props {\r\n  userBookings?: User[\"user\"][\"bookings\"];\r\n  bookingsPage: number;\r\n  limit: number;\r\n  setBookingsPage: (page: number) => void;\r\n}\r\nexport const UserBookings = ({\r\n  limit,\r\n  bookingsPage,\r\n  setBookingsPage,\r\n  userBookings,\r\n}: Props) => {\r\n  const { total, result } = userBookings || {\r\n    total: undefined,\r\n    result: undefined,\r\n  };\r\n  const userBookingsList = (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 4,\r\n        xl: 4,\r\n        xxl: 4,\r\n      }}\r\n      dataSource={result}\r\n      locale={{ emptyText: \"User doesn't have any bookings yet!\" }}\r\n      pagination={{\r\n        position: \"top\",\r\n        current: bookingsPage,\r\n        total,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setBookingsPage(page),\r\n      }}\r\n      renderItem={(userBooking) => {\r\n        const bookingHistory = (\r\n          <div className=\"listing-bookings__history\">\r\n            <div>\r\n              Check in: <Text strong>{userBooking.checkIn}</Text>\r\n            </div>\r\n            <div>\r\n              Check out: <Text strong>{userBooking.checkOut}</Text>\r\n            </div>\r\n          </div>\r\n        );\r\n        return (\r\n          <List.Item>\r\n            {bookingHistory}\r\n            <ListingCard listing={userBooking.listings} />\r\n          </List.Item>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n  return (\r\n    <div className=\"user-listings\">\r\n      <Title level={4} className=\"user-listings__title\">\r\n        Bookings\r\n      </Title>\r\n      <Paragraph className=\"user-listings__description\">\r\n        This section highlights the listings this user currently hosts and has\r\n        made available for bookings.\r\n      </Paragraph>\r\n      {userBookingsList}\r\n    </div>\r\n  );\r\n};\r\n","import { List, Typography } from \"antd\";\r\nimport Paragraph from \"antd/lib/typography/Paragraph\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport { ListingCard } from \"../../../../lib/components/ListingCard\";\r\nimport { User } from \"../../../../lib/graphQl/queries\";\r\n\r\ninterface Props {\r\n  userListings?: User[\"user\"][\"listings\"];\r\n  listingsPage: number;\r\n  limit: number;\r\n  setListingsPage: (page: number) => void;\r\n}\r\nexport const UserListings = ({\r\n  limit,\r\n  listingsPage,\r\n  setListingsPage,\r\n  userListings,\r\n}: Props) => {\r\n  const { total, result } = userListings || {\r\n    total: undefined,\r\n    result: undefined,\r\n  };\r\n  const userListingsList = (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 4,\r\n        xl: 4,\r\n        xxl: 4,\r\n      }}\r\n      dataSource={result}\r\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\r\n      pagination={{\r\n        position: \"top\",\r\n        current: listingsPage,\r\n        total: total ? total : undefined,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setListingsPage(page),\r\n      }}\r\n      renderItem={(userListing) => (\r\n        <List.Item>\r\n          <ListingCard listing={userListing} />\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n  return (\r\n    <div className=\"user-listings\">\r\n      <Title level={4} className=\"user-listings__title\">\r\n        Listings\r\n      </Title>\r\n      <Paragraph className=\"user-listings__description\">\r\n        This section highlights the listings this user currently hosts and has\r\n        made available for bookings.\r\n      </Paragraph>\r\n      {userListingsList}\r\n    </div>\r\n  );\r\n};\r\n","import { useQuery } from \"@apollo/client\";\r\nimport React from \"react\";\r\n\r\nimport { Col, Row } from \"antd\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\n\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { ErrorBanner, PageSkeleton } from \"../../lib/components\";\r\nimport {\r\n  USER,\r\n  User as UserData,\r\n  UserVariables,\r\n} from \"../../lib/graphQl/queries\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { UserBookings, UserListings, UserProfile } from \"./components\";\r\n\r\nconst PAGE_LIMIT = 4;\r\n\r\ninterface MatchParams {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst User = (props: Props & RouteComponentProps<MatchParams>) => {\r\n  const [bookingsPage, setBookingsPage] = React.useState(1);\r\n  const [listingsPage, setListingsPage] = React.useState(1);\r\n  const isOwner = props.viewer.id === props.match.params.id;\r\n  const { loading, data, error, refetch } = useQuery<UserData, UserVariables>(\r\n    USER,\r\n    {\r\n      variables: {\r\n        id: props.match.params.id,\r\n        limit: PAGE_LIMIT,\r\n        bookingsPage,\r\n        listingsPage,\r\n      },\r\n    }\r\n  );\r\n\r\n  const bookingsElement = isOwner ? (\r\n    <UserBookings\r\n      userBookings={data?.user.bookings}\r\n      bookingsPage={bookingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setBookingsPage={setBookingsPage}\r\n    />\r\n  ) : null;\r\n  const listingsElement = (\r\n    <UserListings\r\n      userListings={data?.user.listings}\r\n      listingsPage={listingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setListingsPage={setListingsPage}\r\n    />\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"user\">\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className=\"user\">\r\n        <ErrorBanner\r\n          description={`This is user may not exist or we've encountered an error.please try again later`}\r\n        />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  const UserProfileElement = data?.user ? (\r\n    <UserProfile\r\n      user={data.user}\r\n      isOwner={isOwner}\r\n      viewer={props.viewer}\r\n      setViewer={props.setViewer}\r\n      handleUserRefecth={refetch}\r\n    />\r\n  ) : null;\r\n  return (\r\n    <Content className=\"user\">\r\n      <Row gutter={12} justify=\"space-between\">\r\n        <Col xs={24}>{UserProfileElement}</Col>\r\n      </Row>\r\n      {bookingsElement}\r\n      {listingsElement}\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport { User };\r\n","import { useMutation } from \"@apollo/client\";\r\nimport { Spin } from \"antd\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport React from \"react\";\r\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\r\nimport { CONNECT_STRIPE } from \"../../lib/graphQl/mutations\";\r\nimport {\r\n  ConnectStripe,\r\n  ConnectStripeVariables,\r\n} from \"../../lib/graphQl/mutations/ConnectStripe/__generated__/ConnectStripe\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { displaySuccessNotification } from \"../../lib/utils\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport const Stripe = ({\r\n  viewer,\r\n  setViewer,\r\n  history,\r\n}: Props & RouteComponentProps) => {\r\n  const [connectStripe, { loading, data, error }] = useMutation<\r\n    ConnectStripe,\r\n    ConnectStripeVariables\r\n  >(CONNECT_STRIPE, {\r\n    onCompleted: (data) => {\r\n      if (data && data.connectStripe) {\r\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\r\n        displaySuccessNotification(\r\n          `You've successfully connected your Stripe Account!.`,\r\n          `You can now begin to create listing in the Host page`\r\n        );\r\n      }\r\n    },\r\n  });\r\n\r\n  const connectStripeRef = React.useRef(connectStripe);\r\n\r\n  React.useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n    if (code) {\r\n      connectStripeRef.current({\r\n        variables: {\r\n          input: { code },\r\n        },\r\n      });\r\n    } else {\r\n      history.replace(\"/login\");\r\n    }\r\n  }, [history]);\r\n\r\n  if (data && data.connectStripe) {\r\n    return <Redirect to={`/user/${viewer.id}`} />;\r\n  }\r\n\r\n  if (loading) {\r\n    <Content className=\"stripe\">\r\n      <Spin size=\"large\" tip=\"connecting to stripe account...\" />\r\n    </Content>;\r\n  }\r\n  if (error) {\r\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\r\n  }\r\n  return null;\r\n};\r\n","import React from \"react\";\r\nimport { useApolloClient, useMutation } from \"@apollo/client\";\r\nimport { Card, Layout, Spin, Typography } from \"antd\";\r\nimport { LogIn, LogInVariables, LOG_IN } from \"../../lib/graphQl/mutations\";\r\nimport { AUTH_URL } from \"../../lib/graphQl/queries\";\r\nimport { AuthUrl } from \"../../lib/graphQl/queries/AuthUrl/__generated__/AuthUrl\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport googleLogo from \"./assets/google_logo.jpg\";\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n} from \"../../lib/utils\";\r\nimport { ErrorBanner } from \"../../lib/components\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\n\r\ninterface Props {\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n  const client = useApolloClient();\r\n\r\n  const [\r\n    login,\r\n    { loading: loginLoading, data, error: loginError },\r\n  ] = useMutation<LogIn, LogInVariables>(LOG_IN, {\r\n    onCompleted: (data) => {\r\n      if (data && data.logIn) {\r\n        props.setViewer(data.logIn);\r\n        displaySuccessNotification(`You've successfully logged In`);\r\n      }\r\n    },\r\n  });\r\n\r\n  const logInRef = React.useRef(login);\r\n\r\n  React.useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n    if (code) {\r\n      logInRef.current({\r\n        variables: {\r\n          input: {\r\n            code,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleSignInWithGoogle = async () => {\r\n    try {\r\n      const { data } = await client.query<AuthUrl>({\r\n        query: AUTH_URL,\r\n      });\r\n      window.location.href = data.authUrl;\r\n    } catch (error) {\r\n      displayErrorMessage(\r\n        `Sorry! we weren't able to log you in.Please try again later!`\r\n      );\r\n    }\r\n  };\r\n\r\n  if (loginLoading) {\r\n    return (\r\n      <Content className=\"log-in\">\r\n        <Spin size=\"large\" tip=\"Logging you in..\" />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (data && data.logIn.id) {\r\n    const { id } = data.logIn;\r\n    return <Redirect to={`/user/${id}`} />;\r\n  }\r\n  const ErrorBannerElement = loginError ? (\r\n    <ErrorBanner\r\n      message={`Sorry! we weren't able to log you in.Please try again later!`}\r\n    />\r\n  ) : null;\r\n  return (\r\n    <Content className=\"log-in\">\r\n      {ErrorBannerElement}\r\n      <Card className=\"log-in-card\">\r\n        <div className=\"log-in-card__intro\">\r\n          <Title level={3} className=\"log-in-card__intro-title\">\r\n            <span role=\"img\" aria-label=\"wave\">\r\n              👋\r\n            </span>\r\n          </Title>\r\n          <Title level={3} className=\"log-in-card__intro-title\">\r\n            Log in to TinyHouse!\r\n          </Title>\r\n          <Text>Sign in with Google to start booking available rentals!</Text>\r\n        </div>\r\n        <button\r\n          className=\"log-in-card__google-button\"\r\n          onClick={handleSignInWithGoogle}\r\n        >\r\n          <img\r\n            src={googleLogo}\r\n            alt=\"Google Logo\"\r\n            className=\"log-in-card__google-button-logo\"\r\n          />\r\n          <span className=\"log-in-card__google-button-text\">\r\n            Sign in with Google\r\n          </span>\r\n        </button>\r\n        <Text type=\"secondary\">\r\n          Note: By signing in, you'll be redirected to the Google consent form\r\n          to sign in with your Google account.\r\n        </Text>\r\n      </Card>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport { Login };\r\n","export default \"data:image/jpeg;base64,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\"","import {\r\n  ApolloClient,\r\n  ApolloLink,\r\n  ApolloProvider,\r\n  HttpLink,\r\n  InMemoryCache,\r\n  useMutation,\r\n  concat,\r\n} from \"@apollo/client\";\r\nimport { Elements, ElementsConsumer } from \"@stripe/react-stripe-js\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Affix, Spin } from \"antd\";\r\nimport Layout from \"antd/lib/layout/layout\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { ErrorBanner } from \"./lib/components\";\r\nimport { LogIn, LogInVariables, LOG_IN } from \"./lib/graphQl/mutations\";\r\nimport { Viewer } from \"./lib/types\";\r\nimport {\r\n  AppHeader,\r\n  AppHeaderSkeleton,\r\n  Home,\r\n  Host,\r\n  Listing,\r\n  Listings,\r\n  NotFound,\r\n  Stripe,\r\n  User,\r\n} from \"./section\";\r\nimport { Login } from \"./section/Login\";\r\nimport \"./styles/index.css\";\r\n\r\nconst httpLink = new HttpLink({ uri: \"/api\" });\r\n\r\nconst authMiddleware = new ApolloLink((operation, forward) => {\r\n  // add the authorization to the headers\r\n  const token = sessionStorage.getItem(\"token\");\r\n  operation.setContext({\r\n    headers: {\r\n      \"x-csrf-token\": token || \"\",\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: concat(authMiddleware, httpLink),\r\n  cache: new InMemoryCache(),\r\n  connectToDevTools: true,\r\n});\r\n\r\nconst intialViewer: Viewer = {\r\n  id: null,\r\n  avatar: null,\r\n  didRequest: false,\r\n  token: null,\r\n  hasWallet: null,\r\n};\r\n\r\nconst StripePromise = loadStripe(\r\n  process.env.REACT_APP_STRIPE_PUBLIC_KEY as string\r\n);\r\n\r\nconst App = () => {\r\n  const [viewer, setViewer] = React.useState<Viewer>(intialViewer);\r\n  const [logIn, { error }] = useMutation<LogIn, LogInVariables>(LOG_IN, {\r\n    onCompleted: (data) => {\r\n      if (data && data.logIn) {\r\n        setViewer(data.logIn);\r\n        if (data.logIn.token) {\r\n          sessionStorage.setItem(\"token\", data.logIn.token);\r\n        } else {\r\n          sessionStorage.removeItem(\"token\");\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  const logInRef = React.useRef(logIn);\r\n  React.useEffect(() => {\r\n    logInRef.current();\r\n  }, []);\r\n\r\n  if (!viewer.didRequest) {\r\n    return (\r\n      <Layout className=\"app-skeleton\">\r\n        <AppHeaderSkeleton />\r\n        <div className=\"app-skeleton__spin-section\">\r\n          <Spin size=\"large\" tip=\"Launching Tinyhouse\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  const logInErrorBanner = error ? (\r\n    <ErrorBanner\r\n      message={`We weren't able to verify if you were logged in .Please try agin later`}\r\n    />\r\n  ) : null;\r\n\r\n  return (\r\n    <Layout id=\"app\">\r\n      {logInErrorBanner}\r\n      <Elements stripe={StripePromise}>\r\n        <BrowserRouter>\r\n          <Affix offsetTop={0} className=\"app__affix-header\">\r\n            <AppHeader viewer={viewer} setViewer={setViewer} />\r\n          </Affix>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route\r\n              exact\r\n              path=\"/host\"\r\n              render={(props) => <Host viewer={viewer} {...props} />}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/login\"\r\n              render={(props) => <Login {...props} setViewer={setViewer} />}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/listing/:id\"\r\n              render={(props) => <Listing {...props} viewer={viewer} />}\r\n            />\r\n            <Route exact path=\"/listings/:location?\" component={Listings} />\r\n            <Route\r\n              exact\r\n              path=\"/user/:id\"\r\n              render={(props) => (\r\n                <User {...props} viewer={viewer} setViewer={setViewer} />\r\n              )}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/stripe\"\r\n              render={(props) => (\r\n                <Stripe {...props} viewer={viewer} setViewer={setViewer} />\r\n              )}\r\n            />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </Elements>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nrender(\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n","export * from './LogIn'\r\nexport * from './LogOut'\r\nexport * from './ConnectStripe'\r\nexport * from './DisconnectStripe'\r\nexport * from './CreateBooking'","export * from './AuthUrl'\r\nexport * from './User'\r\nexport * from './Listing'\r\nexport * from './Listings'\r\n"],"sourceRoot":""}